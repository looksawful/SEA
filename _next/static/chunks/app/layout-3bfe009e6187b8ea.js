(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{8237:function(e,t,r){Promise.resolve().then(r.t.bind(r,2778,23)),Promise.resolve().then(r.bind(r,1241)),Promise.resolve().then(r.bind(r,4192))},1241:function(e,t,r){"use strict";r.d(t,{BackgroundLayer:function(){return u}});var s=r(7437),a=r(2265),n=r(8832);let i=(e,t,r)=>{let s=e.createShader(t);return s?(e.shaderSource(s,r),e.compileShader(s),e.getShaderParameter(s,e.COMPILE_STATUS))?s:(e.deleteShader(s),null):null},o=()=>{let e=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let t=e.current;if(!t)return;let r=t.getContext("webgl",{antialias:!1,alpha:!0});if(!r)return;let s=i(r,r.VERTEX_SHADER,"\nattribute vec2 aPosition;\nvoid main() {\n  gl_Position = vec4(aPosition, 0.0, 1.0);\n}\n"),a=i(r,r.FRAGMENT_SHADER,"\nprecision mediump float;\n\nuniform vec2 iResolution;\nuniform float iTime;\nuniform float uSpeed;\nuniform float uScale;\nuniform float uIntensity;\nuniform vec3 uColor1;\nuniform vec3 uColor2;\n\nvoid main() {\n  vec2 U = gl_FragCoord.xy;\n  vec2 uv = U / iResolution.xy;\n  float t = iTime * uSpeed * 0.5;\n  float w1 = sin(uv.x * 5.0 * uScale + t) * cos(uv.x * 3.0 - t * 0.5);\n  float w2 = sin(uv.x * 7.0 * uScale - t * 0.7) * cos(uv.x * 2.0 + t);\n  float y = uv.y - 0.5;\n  float aurora = exp(-abs(y - w1 * 0.2) * 10.0) * 0.5 + exp(-abs(y - w2 * 0.15 - 0.1) * 8.0) * 0.5;\n  vec3 col = mix(uColor2, uColor1, aurora) + aurora * vec3(0.0, 0.18, 0.38);\n  gl_FragColor = vec4(col * uIntensity, 1.0);\n}\n");if(!s||!a)return;let n=r.createProgram();if(!n||(r.attachShader(n,s),r.attachShader(n,a),r.linkProgram(n),!r.getProgramParameter(n,r.LINK_STATUS)))return;r.useProgram(n);let o=r.createBuffer();if(!o)return;r.bindBuffer(r.ARRAY_BUFFER,o),r.bufferData(r.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),r.STATIC_DRAW);let u=r.getAttribLocation(n,"aPosition");r.enableVertexAttribArray(u),r.vertexAttribPointer(u,2,r.FLOAT,!1,0,0);let l=r.getUniformLocation(n,"iResolution"),c=r.getUniformLocation(n,"iTime"),m=r.getUniformLocation(n,"uSpeed"),d=r.getUniformLocation(n,"uScale"),g=r.getUniformLocation(n,"uIntensity"),f=r.getUniformLocation(n,"uColor1"),v=r.getUniformLocation(n,"uColor2"),h=()=>{let e=Math.min(window.devicePixelRatio||1,2),s=Math.max(1,Math.floor(window.innerWidth*e*.75)),a=Math.max(1,Math.floor(window.innerHeight*e*.75));t.width=s,t.height=a,t.style.width="100%",t.style.height="100%",r.viewport(0,0,s,a),l&&r.uniform2f(l,s,a)};h(),window.addEventListener("resize",h),m&&r.uniform1f(m,.85),d&&r.uniform1f(d,1.05),g&&r.uniform1f(g,.9),f&&r.uniform3f(f,.2,.45,1),v&&r.uniform3f(v,.02,.02,.03);let S=0,k=performance.now(),P=0,b=e=>{if(S=requestAnimationFrame(b),e-k<33.333333333333336)return;let t=e-k;k=e,P+=t/1e3,c&&r.uniform1f(c,P),r.drawArrays(r.TRIANGLES,0,6)};return S=requestAnimationFrame(b),()=>{cancelAnimationFrame(S),window.removeEventListener("resize",h)}},[]),(0,s.jsx)("canvas",{ref:e,className:"fixed inset-0 z-0 h-full w-full pointer-events-none","aria-hidden":"true"})},u=()=>{let{backgroundAnimation:e}=(0,n.g)(),[t,r]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{let e=window.matchMedia("(prefers-reduced-motion: reduce)"),t=()=>r(e.matches);return t(),e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]),!e||t)?null:(0,s.jsx)(o,{})}},4192:function(e,t,r){"use strict";r.d(t,{ServiceWorkerRegister:function(){return a}});var s=r(2265);let a=()=>((0,s.useEffect)(()=>{var e,t,r;if(!("serviceWorker"in navigator))return;let s=null!==(r=null===(t=document.body)||void 0===t?void 0:null===(e=t.dataset)||void 0===e?void 0:e.basepath)&&void 0!==r?r:"";navigator.serviceWorker.register("".concat(s,"/sw.js")).catch(()=>void 0)},[]),null)},8832:function(e,t,r){"use strict";r.d(t,{g:function(){return i}});var s=r(9625),a=r(6885);let n={totalGames:0,totalScore:0,bestStreak:0,gamesPlayed:{},accuracy:{}},i=(0,s.Ue)()((0,a.tJ)((e,t)=>({currentGame:null,score:0,streak:0,bestStreak:0,lives:3,timeLeft:60,isPlaying:!1,isPaused:!1,results:[],stats:n,soundEnabled:!0,language:"ru",avoidRepeats:!0,longTestLength:30,backgroundAnimation:!0,timedMode:!0,reviewPauseUntil:null,skipSignal:0,favorites:{},gameTagOverrides:{},gameOrderOverride:[],currentMistakes:[],customQuestions:{},customMode:{},setCurrentGame:t=>e({currentGame:t}),addScore:t=>e(e=>({score:e.score+t,stats:{...e.stats,totalScore:e.stats.totalScore+t}})),resetScore:()=>e({score:0}),incrementStreak:()=>e(e=>{let t=e.streak+1,r=Math.max(t,e.bestStreak);return{streak:t,bestStreak:r,stats:{...e.stats,bestStreak:Math.max(r,e.stats.bestStreak)}}}),resetStreak:()=>e({streak:0}),setLives:t=>e({lives:t}),decrementLives:()=>e(e=>({lives:Math.max(0,e.lives-1)})),setTimeLeft:t=>e({timeLeft:t}),decrementTime:()=>e(e=>({timeLeft:Math.max(0,e.timeLeft-1)})),setIsPlaying:t=>e({isPlaying:t}),setIsPaused:t=>e({isPaused:t}),addResult:t=>e(e=>({results:[...e.results.slice(-99),t],stats:{...e.stats,totalGames:e.stats.totalGames+1}})),updateStats:(t,r)=>e(e=>{let s=(e.stats.gamesPlayed[t]||0)+1,a=(e.stats.accuracy[t]||0)*((s-1)/100);return{stats:{...e.stats,gamesPlayed:{...e.stats.gamesPlayed,[t]:s},accuracy:{...e.stats.accuracy,[t]:(a+(r?1:0))/s*100}}}}),toggleSound:()=>e(e=>({soundEnabled:!e.soundEnabled})),setLanguage:t=>e({language:t}),setAvoidRepeats:t=>e({avoidRepeats:t}),setLongTestLength:t=>e({longTestLength:t}),setBackgroundAnimation:t=>e({backgroundAnimation:t}),setTimedMode:t=>e({timedMode:t}),setReviewPause:t=>e({reviewPauseUntil:Date.now()+t}),clearReviewPause:()=>e({reviewPauseUntil:null}),triggerSkip:()=>e(e=>({skipSignal:e.skipSignal+1})),toggleFavorite:t=>e(e=>({favorites:{...e.favorites,[t]:!e.favorites[t]}})),setGameTags:(t,r)=>e(e=>({gameTagOverrides:{...e.gameTagOverrides,[t]:r}})),setGameOrder:t=>e({gameOrderOverride:t}),addMistake:t=>e(e=>({currentMistakes:[...e.currentMistakes,t]})),clearMistakes:()=>e({currentMistakes:[]}),addCustomQuestion:(t,r)=>e(e=>({customQuestions:{...e.customQuestions,[t]:[...e.customQuestions[t]||[],r]}})),updateCustomQuestion:(t,r,s)=>e(e=>({customQuestions:{...e.customQuestions,[t]:(e.customQuestions[t]||[]).map(e=>e.id===r?s:e)}})),removeCustomQuestion:(t,r)=>e(e=>{let s=(e.customQuestions[t]||[]).filter(e=>e.id!==r);return{customQuestions:{...e.customQuestions,[t]:s},customMode:0===s.length?{...e.customMode,[t]:!1}:e.customMode}}),setCustomMode:(t,r)=>e(e=>({customMode:{...e.customMode,[t]:r}})),resetGame:()=>e({score:0,streak:0,lives:3,timeLeft:60,isPlaying:!1,isPaused:!1,currentMistakes:[],reviewPauseUntil:null}),resetAll:()=>e(e=>({currentGame:null,score:0,streak:0,bestStreak:0,lives:3,timeLeft:60,isPlaying:!1,isPaused:!1,results:[],stats:n,currentMistakes:[],customQuestions:e.customQuestions,customMode:{},gameTagOverrides:e.gameTagOverrides,gameOrderOverride:e.gameOrderOverride}))}),{name:"awful-exercises",partialize:e=>({stats:e.stats,results:e.results,bestStreak:e.bestStreak,soundEnabled:e.soundEnabled,language:e.language,avoidRepeats:e.avoidRepeats,longTestLength:e.longTestLength,backgroundAnimation:e.backgroundAnimation,timedMode:e.timedMode,customQuestions:e.customQuestions,customMode:e.customMode,favorites:e.favorites,gameTagOverrides:e.gameTagOverrides,gameOrderOverride:e.gameOrderOverride})}))},2778:function(){}},function(e){e.O(0,[461,883,971,117,744],function(){return e(e.s=8237)}),_N_E=e.O()}]);