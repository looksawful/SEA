(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8711:function(e,t,s){Promise.resolve().then(s.bind(s,4081))},4081:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var a=s(7437),l=s(2040),r=s(2099);s(7051),s(896),s(6371);var n=s(4350);s(3782),s(8443);var c=s(8832),i=s(6769),o=s(9089);let d=e=>{let{onClose:t}=e,{soundEnabled:s,toggleSound:l,backgroundAnimation:r,setBackgroundAnimation:n,timedMode:d,setTimedMode:x,language:m}=(0,c.g)(),u=[{icon:s?o.rxG:o.xZH,label:(0,i.t)(m,"sound"),description:"ru"===m?"Звуки правильных и неправильных ответов":"Sound effects for answers",value:s,toggle:l},{icon:o.hWE,label:(0,i.t)(m,"backgroundAnimation"),description:"ru"===m?"Анимированный фон Aurora":"Animated Aurora background",value:r,toggle:()=>n(!r)},{icon:o.qyc,label:(0,i.t)(m,"timedMode"),description:"ru"===m?"Ограничение времени на ответ":"Time limit for answers",value:d,toggle:()=>x(!d)}];return(0,a.jsx)("div",{className:"fixed inset-0 z-30 flex items-start justify-center overflow-y-auto py-8 px-4",style:{backgroundColor:"rgba(0, 0, 0, 0.85)"},onClick:e=>e.target===e.currentTarget&&t(),children:(0,a.jsxs)("div",{className:"w-full max-w-md bg-surface-2 border border-subtle rounded-2xl shadow-xl",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-subtle",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-9 h-9 rounded-xl bg-accent/10 flex items-center justify-center text-accent",children:(0,a.jsx)(o.p4t,{className:"text-lg"})}),(0,a.jsx)("h2",{className:"text-lg font-display font-semibold",children:(0,i.t)(m,"settings")})]}),(0,a.jsx)("button",{onClick:t,className:"w-9 h-9 rounded-xl bg-surface-3 border border-subtle flex items-center justify-center text-muted hover:text-strong hover:bg-surface-3 transition-colors","aria-label":(0,i.t)(m,"close"),children:(0,a.jsx)(o.aHS,{})})]}),(0,a.jsx)("div",{className:"p-4 space-y-2",children:u.map((e,t)=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:e.toggle,className:"w-full flex items-center gap-3 p-3 rounded-xl bg-surface-3 border border-subtle hover:border-accent/30 transition-all group",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center transition-colors ".concat(e.value?"bg-accent/20 text-accent":"bg-surface-2 text-muted"),children:(0,a.jsx)(s,{className:"text-lg"})}),(0,a.jsxs)("div",{className:"flex-1 text-left",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-strong",children:e.label}),(0,a.jsx)("div",{className:"text-xs text-soft",children:e.description})]}),(0,a.jsx)("div",{className:"w-12 h-7 rounded-full p-1 transition-colors ".concat(e.value?"bg-accent":"bg-surface-2 border border-subtle"),children:(0,a.jsx)("div",{className:"w-5 h-5 rounded-full bg-white shadow transition-transform ".concat(e.value?"translate-x-5":"translate-x-0")})})]},t)})}),(0,a.jsx)("div",{className:"h-px bg-subtle mx-4"}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,a.jsxs)("a",{href:"mailto:i@lookawful.ru?subject=SEA%20feedback",className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-muted hover:text-strong hover:bg-surface-3 transition-colors",title:(0,i.t)(m,"feedback"),children:[(0,a.jsx)(o.SRX,{className:"text-base"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:(0,i.t)(m,"feedback")})]}),(0,a.jsxs)("a",{href:"https://github.com/looksawful/SEA",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-muted hover:text-strong hover:bg-surface-3 transition-colors",title:"GitHub",children:[(0,a.jsx)(o.hJX,{className:"text-base"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"GitHub"})]}),(0,a.jsx)("a",{href:"https://github.com/looksawful/SEA/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-muted hover:text-strong hover:bg-surface-3 transition-colors",title:(0,i.t)(m,"license"),children:(0,a.jsx)("span",{className:"text-xs font-mono",children:"MIT"})})]})})]})})};s(4171);var x=s(367),m=s(6579),u=s(5911),h=s(996),g=s(2746),f=s(7331),b=s(8614),j=s(521),p=s(9376),N=s(2265);function v(){let[e,t]=(0,N.useState)("menu"),[s,u]=(0,N.useState)(!1),[g,v]=(0,N.useState)(!1),[k,C]=(0,N.useState)(null),[S,E]=(0,N.useState)(!1),[P,z]=(0,N.useState)(""),[O,W]=(0,N.useState)("list"),[A,M]=(0,N.useState)("all"),[G,T]=(0,N.useState)("default"),[_,L]=(0,N.useState)(!1),{stats:Q,bestStreak:R,soundEnabled:J,toggleSound:Z,resetAll:H,results:I,customQuestions:q,language:U,setLanguage:D,favorites:V,toggleFavorite:X}=(0,c.g)(),Y=(0,p.useRouter)(),B="grid"===O,F=h.nP.filter(e=>V[e]),K=P.trim().toLowerCase(),$=h.nP.filter(e=>{if(_&&!V[e]||"all"!==A&&!h.Wp[e].tags.includes(A))return!1;if(!K)return!0;let t=(0,i.s)(e,U);return t.name.toLowerCase().includes(K)||t.description.toLowerCase().includes(K)}),ee=e=>[...e].sort((e,t)=>"name"===G?(0,i.s)(e,U).name.localeCompare((0,i.s)(t,U).name):"played"===G?(Q.gamesPlayed[t]||0)-(Q.gamesPlayed[e]||0):h.nP.indexOf(e)-h.nP.indexOf(t)),et=ee($),es=ee(F),ea=!_&&es.length>0&&"all"===A&&!K,el=ea?et.filter(e=>!V[e]):et,er=[{id:"all",label:(0,i.t)(U,"tagAll")},{id:"design",label:(0,i.t)(U,"tagDesign")},{id:"interface",label:(0,i.t)(U,"tagInterface")},{id:"color",label:(0,i.t)(U,"tagColor")},{id:"typography",label:(0,i.t)(U,"tagTypography")},{id:"layout",label:(0,i.t)(U,"tagLayout")},{id:"photo",label:(0,i.t)(U,"tagPhoto")},{id:"accessibility",label:(0,i.t)(U,"tagAccessibility")},{id:"theory",label:(0,i.t)(U,"tagTheory")}],en=e=>"quiz"===e?y(m.S):f.y.includes(e)?y(f.u[e]||[]):null,ec=e=>{var t;let s=h.Wp[e],l=(0,i.s)(e,U),n=Q.gamesPlayed[e]||0,c=Q.accuracy[e],d=(null===(t=q[e])||void 0===t?void 0:t.length)||0,x=s.icon,m=en(e),u=[...I].reverse().find(t=>t.gameId===e),g=u?Math.round(u.correct/Math.max(1,u.total)*100):null,f=!!V[e];return(0,a.jsxs)(r.Z,{className:"transition-colors shadow-card min-w-0",padding:B?"sm":"md",onClick:()=>Y.push("/game/".concat(e)),children:[(0,a.jsxs)("div",{className:B?"flex flex-col gap-3":"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"".concat(B?"w-10 h-10":"w-12 h-12"," rounded-2xl bg-surface-2 border border-subtle flex items-center justify-center text-accent ").concat(B?"":"flex-shrink-0"),children:(0,a.jsx)(x,{className:B?"text-xl":"text-2xl"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:B?"font-medium text-sm sm:text-base":"font-medium",children:l.name}),!B&&(0,a.jsx)("div",{className:"text-sm text-muted",children:(0,a.jsx)("span",{className:"truncate block",children:l.description})}),(0,a.jsxs)("div",{className:B?"text-[11px] text-soft mt-2 space-y-1":"text-xs text-soft mt-2 space-y-1",children:[m?(0,a.jsxs)("div",{children:[(0,i.t)(U,"questions"),": ",m.total]}):(0,a.jsxs)("div",{children:[(0,i.t)(U,"questions"),": ",(0,i.t)(U,"generated")]}),(0,a.jsxs)("div",{children:[(0,i.t)(U,"played"),": ",n," • ",(0,i.t)(U,"accuracy"),": ",Math.round(c||0),"%"]}),!B&&(0,a.jsxs)("div",{children:[(0,i.t)(U,"lastResult"),":"," ",u?"".concat(u.correct,"/").concat(u.total," (").concat(g,"%)"):"—"]}),!B&&d>0&&(0,a.jsxs)("div",{children:[(0,i.t)(U,"customQuestionsCount"),": ",d]})]})]}),(0,a.jsxs)("div",{className:"grid"===O?"flex justify-between gap-2":"flex items-start gap-2 text-soft",children:[(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),X(e)},className:"w-8 h-8 rounded-xl border border-subtle bg-surface-2 text-muted hover:text-strong flex items-center justify-center","aria-pressed":f,title:(0,i.t)(U,"favorites"),children:f?(0,a.jsx)(o.QJe,{}):(0,a.jsx)(o.jJN,{})}),"grid"===O?(0,a.jsx)("div",{className:"text-soft self-center",children:(0,a.jsx)(o.Z1Y,{})}):(0,a.jsx)(o.Z1Y,{})]})]}),(0,a.jsxs)("div",{className:B?"mt-3 grid grid-cols-2 gap-2":"mt-4 flex flex-wrap gap-2",children:[(0,a.jsxs)("button",{onClick:t=>{t.stopPropagation(),C(e),v(!0)},className:"inline-flex items-center justify-center gap-2 px-3 py-2 text-xs rounded-xl bg-surface-2 border border-subtle text-muted hover:text-strong hover:bg-surface-3 transition-colors ".concat(B?"w-full":""),children:[(0,a.jsx)(o.wEH,{className:"text-xs"}),(0,a.jsx)("span",{className:B?"hidden sm:inline":"",children:(0,i.t)(U,"addQuestions")})]}),(0,a.jsxs)("button",{onClick:t=>{t.stopPropagation(),C(e),v(!0)},className:"inline-flex items-center justify-center gap-2 px-3 py-2 text-xs rounded-xl bg-surface-2 border border-subtle text-muted hover:text-strong hover:bg-surface-3 transition-colors ".concat(B?"w-full":""),children:[(0,a.jsx)(o.tU3,{className:"text-xs"}),(0,a.jsx)("span",{className:B?"hidden sm:inline":"",children:(0,i.t)(U,"edit")})]})]})]},e)};return((0,N.useEffect)(()=>{u(!0)},[]),s)?(0,a.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,a.jsx)("header",{className:"sticky top-0 z-10 border-b border-subtle bg-[color:var(--surface-1-80)] backdrop-blur",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-3 flex items-center justify-between",children:[(0,a.jsx)("button",{onClick:()=>t("menu"),className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:"text-lg font-display font-semibold",children:(0,i.t)(U,"appName")})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>{C(null),v(!0)},className:"flex items-center gap-2 px-3 py-2 text-sm rounded-xl bg-surface-2 border border-subtle text-muted hover:text-strong hover:bg-surface-3 transition-colors",title:(0,i.t)(U,"customQuestions"),children:[(0,a.jsx)(o.O1O,{className:"text-base"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:(0,i.t)(U,"customQuestions")})]}),(0,a.jsxs)("button",{onClick:Z,className:"flex items-center gap-2 px-3 py-2 text-sm rounded-xl bg-surface-2 border border-subtle text-muted hover:text-strong hover:bg-surface-3 transition-colors",title:J?(0,i.t)(U,"soundOn"):(0,i.t)(U,"soundOff"),"aria-pressed":J,children:[J?(0,a.jsx)(o.rxG,{className:"text-base"}):(0,a.jsx)(o.xZH,{className:"text-base"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:J?(0,i.t)(U,"soundOn"):(0,i.t)(U,"soundOff")})]}),(0,a.jsxs)("button",{onClick:()=>E(!0),className:"flex items-center gap-2 px-3 py-2 text-sm rounded-xl bg-surface-2 border border-subtle text-muted hover:text-strong hover:bg-surface-3 transition-colors",title:(0,i.t)(U,"settings"),children:[(0,a.jsx)(o.p4t,{className:"text-base"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:(0,i.t)(U,"settings")})]}),(0,a.jsxs)("div",{className:"flex items-center rounded-xl border border-subtle bg-surface-2 p-1",role:"group","aria-label":(0,i.t)(U,"uiLanguage"),children:[(0,a.jsx)("button",{onClick:()=>D("ru"),className:"px-2 py-1 text-xs rounded-lg ".concat("ru"===U?"bg-surface-3 text-strong":"text-muted hover:text-strong"),"aria-pressed":"ru"===U,children:"RU"}),(0,a.jsx)("button",{onClick:()=>D("en"),className:"px-2 py-1 text-xs rounded-lg ".concat("en"===U?"bg-surface-3 text-strong":"text-muted hover:text-strong"),"aria-pressed":"en"===U,children:"EN"})]})]})]})}),(0,a.jsx)("main",{className:"flex-1 p-4 pb-24 sm:pb-4 w-full flex items-center justify-center",children:(0,a.jsxs)(b.M,{mode:"wait",children:["menu"===e&&(0,a.jsxs)(j.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-6 w-full max-w-md mx-auto",children:[(0,a.jsxs)("div",{className:"bg-surface border border-subtle rounded-3xl p-6 shadow-card space-y-3",children:[(0,a.jsx)(l.z,{onClick:()=>{L(!1),t("games")},fullWidth:!0,size:"lg",children:(0,a.jsxs)("span",{className:"inline-flex items-center justify-center gap-2",children:[(0,a.jsx)(o.hON,{className:"text-base"}),(0,i.t)(U,"chooseExercise")]})}),(0,a.jsx)(l.z,{onClick:()=>{L(!0),t("games")},variant:"secondary",fullWidth:!0,size:"lg",children:(0,a.jsxs)("span",{className:"inline-flex items-center justify-center gap-2",children:[(0,a.jsx)(o.QJe,{className:"text-base"}),(0,i.t)(U,"favorites")]})}),(0,a.jsx)(l.z,{onClick:()=>t("random"),variant:"secondary",fullWidth:!0,size:"lg",children:(0,a.jsxs)("span",{className:"inline-flex items-center justify-center gap-2",children:[(0,a.jsx)(o.AyN,{className:"text-base"}),(0,i.t)(U,"randomMode")]})}),(0,a.jsx)(l.z,{onClick:()=>t("stats"),variant:"ghost",fullWidth:!0,children:(0,a.jsxs)("span",{className:"inline-flex items-center justify-center gap-2",children:[(0,a.jsx)(o.NMh,{className:"text-base"}),(0,i.t)(U,"stats")]})}),(0,a.jsx)(l.z,{onClick:()=>E(!0),variant:"ghost",fullWidth:!0,children:(0,a.jsxs)("span",{className:"inline-flex items-center justify-center gap-2",children:[(0,a.jsx)(o.p4t,{className:"text-base"}),(0,i.t)(U,"settings")]})})]}),Q.totalGames>0&&(0,a.jsx)(r.Z,{className:"mt-8 shadow-card",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-mono font-bold",children:Q.totalScore.toLocaleString()}),(0,a.jsx)("div",{className:"text-xs text-muted",children:(0,i.t)(U,"totalScore")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-mono font-bold",children:Q.totalGames}),(0,a.jsx)("div",{className:"text-xs text-muted",children:(0,i.t)(U,"games")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-mono font-bold",children:R}),(0,a.jsx)("div",{className:"text-xs text-muted",children:(0,i.t)(U,"bestStreak")})]})]})})]},"menu"),"games"===e&&(0,a.jsxs)(j.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4 w-full max-w-4xl",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[(0,a.jsx)("button",{onClick:()=>t("menu"),className:"p-2 -ml-2 text-muted hover:text-strong",children:(0,a.jsx)(o.x_l,{})}),(0,a.jsx)("h2",{className:"text-2xl sm:text-3xl font-display font-semibold tracking-tight flex-1",children:(0,i.t)(U,"chooseExerciseTitle")}),(0,a.jsxs)("div",{className:"flex items-center gap-2 shrink-0 w-full sm:w-auto justify-end",children:[(0,a.jsx)("button",{onClick:()=>L(!_),className:"w-9 h-9 rounded-xl border border-subtle flex items-center justify-center ".concat(_?"bg-surface-3 text-strong":"bg-surface-2 text-muted hover:text-strong"),"aria-pressed":_,title:(0,i.t)(U,"favorites"),children:_?(0,a.jsx)(o.QJe,{}):(0,a.jsx)(o.jJN,{})}),(0,a.jsx)("button",{onClick:()=>W("list"),className:"w-9 h-9 rounded-xl border border-subtle flex items-center justify-center ".concat("list"===O?"bg-surface-3 text-strong":"bg-surface-2 text-muted hover:text-strong"),"aria-pressed":"list"===O,title:(0,i.t)(U,"listView"),children:(0,a.jsx)(o.Fm7,{})}),(0,a.jsx)("button",{onClick:()=>W("grid"),className:"w-9 h-9 rounded-xl border border-subtle flex items-center justify-center ".concat("grid"===O?"bg-surface-3 text-strong":"bg-surface-2 text-muted hover:text-strong"),"aria-pressed":"grid"===O,title:(0,i.t)(U,"gridView"),children:(0,a.jsx)(o.xyo,{})})]})]}),(0,a.jsxs)("div",{className:"sticky top-3 z-10 sm:static space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 rounded-2xl glass-input",children:[(0,a.jsx)(o.U41,{className:"text-muted"}),(0,a.jsx)("input",{value:P,onChange:e=>z(e.target.value),className:"flex-1 bg-transparent text-sm text-strong placeholder:text-soft focus:outline-none",placeholder:(0,i.t)(U,"searchPlaceholder"),"aria-label":(0,i.t)(U,"searchLabel")}),P.length>0&&(0,a.jsx)("button",{onClick:()=>z(""),className:"text-xs text-muted hover:text-strong",children:(0,i.t)(U,"clear")})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 overflow-x-auto pb-1",children:er.map(e=>(0,a.jsx)("button",{onClick:()=>M(e.id),className:"px-3 py-1 rounded-full text-xs whitespace-nowrap transition-colors ".concat(A===e.id?"glass text-strong":"glass-subtle text-muted hover:text-strong"),"aria-pressed":A===e.id,children:e.label},e.id))}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsx)("div",{className:"text-xs text-soft",children:(0,i.t)(U,"sort")}),(0,a.jsxs)("select",{value:G,onChange:e=>T(e.target.value),className:"text-xs bg-surface-2 border border-subtle rounded-full px-3 py-1 text-strong cursor-pointer","aria-label":(0,i.t)(U,"sort"),children:[(0,a.jsx)("option",{value:"default",children:(0,i.t)(U,"sortDefault")}),(0,a.jsx)("option",{value:"name",children:(0,i.t)(U,"sortName")}),(0,a.jsx)("option",{value:"played",children:(0,i.t)(U,"sortPlayed")})]})]})]}),ea&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"text-lg font-display font-semibold tracking-tight text-strong",children:(0,i.t)(U,"favorites")}),(0,a.jsx)("div",{className:B?"grid gap-3 grid-cols-2 sm:grid-cols-2 lg:grid-cols-3":"grid gap-3",children:es.map(ec)})]}),(0,a.jsx)("div",{className:B?"grid gap-3 grid-cols-2 sm:grid-cols-2 lg:grid-cols-3":"grid gap-3",children:el.map(ec)}),0===$.length&&(0,a.jsx)("div",{className:"text-center text-sm text-muted py-8",children:(0,i.t)(U,"noResults")})]},"games"),"random"===e&&(0,a.jsx)("div",{className:"w-full max-w-4xl",children:(0,a.jsx)(w,{onBack:()=>t("menu")})}),"stats"===e&&(0,a.jsxs)(j.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4 w-full max-w-4xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsx)("button",{onClick:()=>t("menu"),className:"p-2 -ml-2 text-muted hover:text-strong",children:(0,a.jsx)(o.x_l,{})}),(0,a.jsx)("h2",{className:"text-2xl sm:text-3xl font-display font-semibold tracking-tight",children:(0,i.t)(U,"statsTitle")})]}),(0,a.jsx)(r.Z,{className:"shadow-card",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-mono font-bold",children:Q.totalScore.toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-muted",children:(0,i.t)(U,"totalScore")})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-mono font-bold",children:Q.totalGames}),(0,a.jsx)("div",{className:"text-sm text-muted",children:(0,i.t)(U,"gamesPlayed")})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-mono font-bold",children:R}),(0,a.jsx)("div",{className:"text-sm text-muted",children:(0,i.t)(U,"bestStreak")})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-3xl font-mono font-bold",children:[Object.values(Q.accuracy).length>0?Math.round(Object.values(Q.accuracy).reduce((e,t)=>e+t,0)/Object.values(Q.accuracy).length):0,"%"]}),(0,a.jsx)("div",{className:"text-sm text-muted",children:(0,i.t)(U,"averageAccuracy")})]})]})}),(0,a.jsx)("h3",{className:"text-lg font-display font-semibold tracking-tight mt-6 mb-3 text-strong",children:(0,i.t)(U,"byGames")}),(0,a.jsx)("div",{className:"space-y-2",children:h.nP.map(e=>{let t=h.Wp[e],s=Q.gamesPlayed[e]||0,l=Q.accuracy[e]||0,r=t.icon,n=(0,i.s)(e,U);return(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-surface border border-subtle rounded-lg shadow-card",children:[(0,a.jsx)("span",{className:"w-9 h-9 rounded-xl bg-surface border border-subtle flex items-center justify-center text-accent",children:(0,a.jsx)(r,{className:"text-lg"})}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsx)("div",{className:"text-sm font-medium truncate",children:n.name})}),(0,a.jsxs)("div",{className:"text-right text-sm",children:[(0,a.jsx)("div",{className:"font-mono",children:s}),(0,a.jsxs)("div",{className:"text-xs text-soft",children:[Math.round(l),"%"]})]})]},e)})}),(0,a.jsx)("div",{className:"pt-6",children:(0,a.jsx)(l.z,{onClick:()=>{confirm((0,i.t)(U,"resetStatsConfirm"))&&H()},variant:"danger",fullWidth:!0,children:(0,i.t)(U,"resetStats")})})]},"stats")]})}),(0,a.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-20 border-t border-subtle bg-[color:var(--surface-1-80)] backdrop-blur sm:hidden",children:(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-1 px-2 py-2",children:[(0,a.jsxs)("button",{onClick:()=>t("menu"),className:"flex flex-col items-center gap-1 py-2 rounded-xl text-xs ".concat("menu"===e?"bg-surface-3 text-strong":"text-muted"),children:[(0,a.jsx)(o.xng,{className:"text-base"}),(0,i.t)(U,"home")]}),(0,a.jsxs)("button",{onClick:()=>t("games"),className:"flex flex-col items-center gap-1 py-2 rounded-xl text-xs ".concat("games"===e?"bg-surface-3 text-strong":"text-muted"),children:[(0,a.jsx)(o.hON,{className:"text-base"}),(0,i.t)(U,"gamesNav")]}),(0,a.jsxs)("button",{onClick:()=>t("random"),className:"flex flex-col items-center gap-1 py-2 rounded-xl text-xs ".concat("random"===e?"bg-surface-3 text-strong":"text-muted"),children:[(0,a.jsx)(o.AyN,{className:"text-base"}),(0,i.t)(U,"randomNav")]}),(0,a.jsxs)("button",{onClick:()=>t("stats"),className:"flex flex-col items-center gap-1 py-2 rounded-xl text-xs ".concat("stats"===e?"bg-surface-3 text-strong":"text-muted"),children:[(0,a.jsx)(o.NMh,{className:"text-base"}),(0,i.t)(U,"stats")]})]})}),g&&(0,a.jsx)(x.$g,{onClose:()=>{v(!1),C(null)},initialGameId:null!=k?k:void 0}),S&&(0,a.jsx)(d,{onClose:()=>E(!1)})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6",children:(0,a.jsxs)("div",{className:"w-full max-w-2xl space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n.Skeleton,{className:"h-10 w-10 rounded-2xl"}),(0,a.jsx)(n.Skeleton,{className:"h-6 w-32"})]}),(0,a.jsx)(n.Skeleton,{className:"h-32 w-full rounded-3xl"}),(0,a.jsxs)("div",{className:"grid gap-3",children:[(0,a.jsx)(n.Skeleton,{className:"h-12 w-full rounded-xl"}),(0,a.jsx)(n.Skeleton,{className:"h-12 w-full rounded-xl"}),(0,a.jsx)(n.Skeleton,{className:"h-10 w-2/3 rounded-xl"})]})]})})}let y=e=>e.reduce((e,t)=>{let s=t.difficulty||"unknown";return"easy"===s?e.easy+=1:"medium"===s?e.medium+=1:"hard"===s?e.hard+=1:"expert"===s?e.expert+=1:e.unknown+=1,e.total+=1,e},{easy:0,medium:0,hard:0,expert:0,unknown:0,total:0});function w(e){let{onBack:t}=e,s=(0,p.useRouter)(),[r,n]=(0,N.useState)([]),{language:d,longTestLength:x}=(0,c.g)(),m=()=>{n((0,g.TV)([...h.nP]))};if((0,N.useEffect)(()=>{m()},[]),(0,u.v)({r:m},!0),0===r.length)return(0,a.jsx)("div",{className:"text-muted",children:(0,i.t)(d,"loading")});let f=r[0],b=h.Wp[f].icon,v=(0,i.s)(f,d),y=r.slice(1);return(0,a.jsxs)(j.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-6 w-full max-w-xl mx-auto",children:[(0,a.jsxs)("div",{className:"grid grid-cols-[auto,1fr,auto] items-center",children:[(0,a.jsx)("button",{onClick:t,className:"p-2 -ml-2 text-muted hover:text-strong",children:(0,a.jsx)(o.x_l,{})}),(0,a.jsx)("h2",{className:"text-2xl sm:text-3xl font-display font-semibold tracking-tight text-center",children:(0,i.t)(d,"randomModeTitle")}),(0,a.jsx)("div",{className:"w-8"})]}),(0,a.jsxs)("div",{className:"text-center bg-surface border border-subtle rounded-3xl p-6 space-y-3 shadow-card",children:[(0,a.jsx)("div",{className:"text-xs text-muted uppercase tracking-[0.2em]",children:(0,i.t)(d,"gameOf",{current:1,total:r.length})}),(0,a.jsx)("div",{className:"text-5xl text-accent",children:(0,a.jsx)(b,{})}),(0,a.jsx)("div",{className:"text-xl font-medium",children:v.name})]}),(0,a.jsxs)("div",{className:"text-center bg-surface border border-subtle rounded-3xl p-6 space-y-4 shadow-card",children:[(0,a.jsx)("div",{className:"text-xs text-muted uppercase tracking-[0.2em]",children:(0,i.t)(d,"longTest")}),(0,a.jsx)("div",{className:"text-lg font-medium",children:(0,i.t)(d,"longTestDescription")}),(0,a.jsxs)("div",{className:"text-xs text-soft",children:[(0,i.t)(d,"questionCount"),": ",x]}),(0,a.jsx)(l.z,{onClick:()=>s.push("/game/long-test"),fullWidth:!0,children:(0,a.jsxs)("span",{className:"inline-flex items-center justify-center gap-2",children:[(0,a.jsx)(o.gmG,{className:"text-base"}),(0,i.t)(d,"start")]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 max-w-md mx-auto w-full",children:[(0,a.jsx)(l.z,{onClick:t,variant:"ghost",fullWidth:!0,children:(0,i.t)(d,"cancel")}),(0,a.jsx)(l.z,{onClick:()=>{let e=y.length>0?"?next=".concat(encodeURIComponent(JSON.stringify(y))):"";s.push("/game/".concat(f).concat(e))},fullWidth:!0,children:(0,a.jsxs)("span",{className:"inline-flex items-center justify-center gap-2",children:[(0,a.jsx)(o.gmG,{className:"text-base"}),(0,i.t)(d,"start")]})})]}),(0,a.jsx)(l.z,{onClick:m,variant:"secondary",fullWidth:!0,hotkey:"R",children:(0,a.jsxs)("span",{className:"inline-flex items-center justify-center gap-2",children:[(0,a.jsx)(o.dnK,{className:"text-base"}),(0,i.t)(d,"reroll")]})}),(0,a.jsx)("div",{className:"flex gap-1 justify-center",children:r.map((e,t)=>(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(0===t?"bg-[color:var(--accent)]":"bg-surface-3")},t))})]})}},8443:function(e,t,s){"use strict";s.d(t,{Q:function(){return r}});var a=s(7437),l=s(7648);let r=e=>{let{href:t,children:s,variant:r="primary",size:n="md",fullWidth:c=!1,className:i=""}=e;return(0,a.jsx)(l.default,{href:t,className:"".concat("inline-flex items-center justify-center gap-2 relative font-medium rounded-xl transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[color:var(--accent)] focus-visible:ring-offset-[color:var(--surface-0)]"," ").concat({primary:"bg-accent text-white hover:bg-[color:var(--accent-strong)]",secondary:"bg-surface-2 text-strong hover:bg-surface-3",ghost:"bg-transparent text-muted hover:bg-surface-2",danger:"bg-[color:var(--danger)] text-white hover:bg-[color:var(--danger-strong)]"}[r]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[n]," ").concat(c?"w-full":""," ").concat(i),children:s})}}},function(e){e.O(0,[699,883,681,648,600,217,971,117,744],function(){return e(e.s=8711)}),_N_E=e.O()}]);