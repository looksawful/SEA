(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[184],{3910:function(e,t,a){Promise.resolve().then(a.bind(a,2497))},2497:function(e,t,a){"use strict";a.d(t,{GamePageClient:function(){return tF}});var s=a(7437),l=a(6371),r=a(367),n=a(4350),c=a(2099),o=a(4171),i=a(3782),d=a(5911),m=a(4690),h=a(4018),u=a(8832),x=a(5478),p=a(3821),f=a(2746),g=a(6769),y=a(2265);let b={brighter:{title:{ru:"Какой цвет ярче?",en:"Which color is brighter?"},helper:{ru:"Сравните светлоту (L): у яркого цвета значение L выше.",en:"Compare lightness (L): the brighter color has a higher L."},axis:"l",target:"max"},darker:{title:{ru:"Какой цвет темнее?",en:"Which color is darker?"},helper:{ru:"Сравните светлоту (L): у темного цвета значение L ниже.",en:"Compare lightness (L): the darker color has a lower L."},axis:"l",target:"min"},saturated:{title:{ru:"Какой цвет насыщеннее?",en:"Which color is more saturated?"},helper:{ru:"Сравните насыщенность (S): у насыщенного цвета значение S выше.",en:"Compare saturation (S): the more saturated color has a higher S."},axis:"s",target:"max"},muted:{title:{ru:"Какой цвет более приглушённый?",en:"Which color is more muted?"},helper:{ru:"Сравните насыщенность (S): у приглушённого цвета значение S ниже.",en:"Compare saturation (S): the more muted color has a lower S."},axis:"s",target:"min"}},j={easy:26,medium:16,hard:10,expert:6},v={easy:100,medium:120,hard:150,expert:180},N=(e,t,a)=>{let s=new Set([e[t]]),l="l"===t?12:15,r="l"===t?92:95;for(;s.size<4;){let n=Math.floor(Math.random()*a*2)-a;0!==n&&s.add((0,f.uZ)(e[t]+n,l,r))}return(0,f.TV)([...s]).map(a=>{let s={...e,[t]:a},{r:l,g:r,b:n}=(0,x.ve)(s.h,s.s,s.l);return{color:(0,x.vq)(l,r,n),hsl:s}})},w=(e,t,a)=>{let s=e.map(e=>e.hsl[t]);return s.indexOf("max"===a?Math.max(...s):Math.min(...s))},S=e=>{let t=(0,p.lV)(e),a=(0,f.sD)(["brighter","darker","saturated","muted"]),s=b[a],l=j[t],r=(0,x.Nj)();r.s=(0,f.uZ)(r.s,35,85),r.l=(0,f.uZ)(r.l,28,78);let n=N(r,s.axis,l),c=w(n,s.axis,s.target);return{compareType:a,difficulty:t,options:n,correctIndex:c}},C=e=>{let{onAnswer:t}=e,[a,l]=(0,y.useState)(null),[r,n]=(0,y.useState)(null),[x,f]=(0,y.useState)(!1),[j,N]=(0,y.useState)(0),{addScore:w,incrementStreak:C,resetStreak:k,updateStats:I,addMistake:A,setReviewPause:M,language:T}=(0,u.g)(),{playCorrect:L,playWrong:H}=(0,h.c)();(0,y.useEffect)(()=>{l(S(0))},[]);let G=(0,y.useCallback)(e=>{if(!a||x)return;n(e),f(!0);let s=e===a.correctIndex;if(s)w(v[a.difficulty]),C(),L();else{k(),H();let t=b[a.compareType],s=a.options[a.correctIndex],l=a.options[e],r="l"===t.axis?"L":"S",n=(0,g.N)(t.helper,T),c="ru"===T?"У правильного варианта ".concat(r,"=").concat(s.hsl[t.axis]).concat("%",", у выбранного ").concat(r,"=").concat(l.hsl[t.axis]).concat("%",". ").concat(n):"The correct option has ".concat(r,"=").concat(s.hsl[t.axis]).concat("%",", the selected one has ").concat(r,"=").concat(l.hsl[t.axis]).concat("%",". ").concat(n),o="ru"===T?"Правильный":"Correct",i="ru"===T?"Выбранный":"Selected";A({question:(0,g.N)(t.title,T),userAnswer:(0,g.t)(T,"optionLabel",{index:e+1}),correctAnswer:(0,g.t)(T,"optionLabel",{index:a.correctIndex+1}),explanation:c,visual:{type:"colors",data:{[o]:s.color,[i]:l.color}}})}I("color-compare",s);let r=s?1200:2400;M(r),setTimeout(()=>{t(s);let e=j+1;N(e),l(S(e)),n(null),f(!1)},r)},[a,x,j,M]),q=(0,y.useCallback)(()=>{if(!a||x)return;t(!1);let e=j+1;N(e),l(S(e)),n(null),f(!1)},[a,x,j,t]);if((0,m.S)(q,!x),(0,d.A)(e=>{e<((null==a?void 0:a.options.length)||0)&&G(e)},!x),!a)return null;let E=b[a.compareType];return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-display font-semibold tracking-tight",children:(0,g.N)(E.title,T)}),(0,s.jsx)(o.N,{hint:(0,g.N)(E.helper,T)}),(0,s.jsxs)("div",{className:"text-xs text-soft",children:[(0,g.t)(T,"difficultyLabel"),": ",(0,p.Yy)(a.difficulty)]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4",children:a.options.map((e,t)=>(0,s.jsx)(c.Z,{onClick:()=>G(t),selected:r===t,correct:x?t===a.correctIndex:null,padding:"lg",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsx)(i.m,{color:e.color,className:"w-full h-24 rounded-xl border border-subtle shadow-card"}),(0,s.jsxs)("span",{className:"hidden sm:inline text-xs text-soft",children:["[",t+1,"]"]})]})},e.color))})]})};var k=a(4155),I=a(521);let A={modular:[12,14,16,18,20,24,30,36,48,60,72],linear:[12,14,16,18,20,22,24,26,28,30,32],ios:[11,13,15,17,20,22,28,34],material:[10,12,14,16,20,24,34,48,60],bootstrap:[12,14,16,20,24,28,32,36,48],editorial:[14,16,18,22,26,32,40,52,64],compact:[10,11,12,13,14,15,16,17,18]},M=(e,t)=>({ru:e,en:t}),T={ru:["Типографика","Дизайн-система","Визуальный баланс","Негативное пространство","Композиция","Гармония цвета","Иерархия","Консистентность","Читаемость","Контраст","Ритм и паттерн","Модульная сетка","Выравнивание","Доступность","Интерфейс","Пропорции","Баланс","Контекст","Гарнитура","Распознавание","Навигация","Привычка","Сетка","Ритм","Градация","Группа","Отклик","Тон","Динамика"],en:["Typography","Design system","Visual balance","Negative space","Composition","Color harmony","Hierarchy","Consistency","Readability","Contrast","Rhythm and pattern","Modular grid","Alignment","Accessibility","Interface","Proportions","Balance","Context","Typeface","Recognition","Navigation","Habit","Grid","Rhythm","Gradation","Group","Response","Tone","Dynamics"]},L={modular:M("Модульная","Modular"),linear:M("Линейная","Linear"),ios:M("iOS","iOS"),material:M("Material","Material"),bootstrap:M("Bootstrap","Bootstrap"),editorial:M("Редакционная","Editorial"),compact:M("Компактная","Compact")},H=(e,t,a)=>{let s=t.indexOf(e),l=new Set([e]);for(let e of({easy:[-3,-2,-1,1,2,3],medium:[-2,-1,1,2],hard:[-1,1,2],expert:[-1,1]})[a]){let a=t[s+e];if("number"==typeof a&&l.add(a),l.size>=4)break}let r=t.filter(e=>!l.has(e));for(;l.size<4&&r.length>0;){let e=(0,f.sD)(r);l.add(e),r.splice(r.indexOf(e),1)}return(0,f.TV)([...l]).slice(0,4)},G=e=>{let{onAnswer:t}=e,[a,l]=(0,y.useState)(null),[r,n]=(0,y.useState)(null),[i,x]=(0,y.useState)(!1),[b,j]=(0,y.useState)(0),v=(0,y.useRef)(0),{addScore:N,incrementStreak:w,resetStreak:S,updateStats:C,addMistake:M,setReviewPause:G,language:q}=(0,u.g)(),E=(0,y.useMemo)(()=>{var e;return(0,f.TV)([...null!==(e=T[q])&&void 0!==e?e:T.ru])},[q]),{playCorrect:F,playWrong:z}=(0,h.c)(),D=(0,y.useCallback)(e=>{var t;let a=(0,p.lV)(e),s=Object.keys(A),l=(0,f.sD)(s),r=A[l],n="hard"===a?r.filter(e=>e>=14&&e<=36):r.filter(e=>e>=12&&e<=48),c=(0,f.sD)(n),o=E.length>0?E[v.current%E.length]:(0,f.sD)(null!==(t=T[q])&&void 0!==t?t:T.ru);v.current+=1;let i=H(c,r,a);return i.includes(c)||(i[0]=c),{size:c,text:o,options:(0,f.TV)(i),difficulty:a,scale:l}},[E,q]);(0,y.useEffect)(()=>{v.current=0,l(D(b))},[D]);let V=(0,y.useCallback)(e=>{if(i||!a)return;n(e),x(!0);let s=a.options[e],r=s===a.size;r?(N("expert"===a.difficulty?180:"hard"===a.difficulty?150:"medium"===a.difficulty?120:100),w(),F()):(S(),z(),M({question:"ru"===q?'Какой размер шрифта? (текст: "'.concat(a.text,'")'):'What is the font size? (text: "'.concat(a.text,'")'),userAnswer:"".concat(s,"px"),correctAnswer:"".concat(a.size,"px"),explanation:"ru"===q?"Разница между ".concat(s,"px и ").concat(a.size,"px составляет ").concat(Math.abs(s-a.size),"px. Тренируйте глаз на модульных шкалах: ").concat(A.modular.slice(0,6).join(", "),"..."):"The difference between ".concat(s,"px and ").concat(a.size,"px is ").concat(Math.abs(s-a.size),"px. Train your eye with modular scales: ").concat(A.modular.slice(0,6).join(", "),"...")})),C("font-size",r);let c=r?1200:2400;G(c),setTimeout(()=>{t(r);let e=b+1;j(e),l(D(e)),n(null),x(!1)},c)},[a,i,b,D,G,q]),P=(0,y.useCallback)(()=>{if(!a||i)return;t(!1);let e=b+1;j(e),l(D(e)),n(null),x(!1)},[a,i,b,D,t,q]);return((0,m.S)(P,!i),(0,d.A)(e=>{e<((null==a?void 0:a.options.length)||0)&&V(e)},!i),a)?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-display font-semibold tracking-tight",children:"ru"===q?"Какой это размер шрифта?":"What font size is this?"}),(0,s.jsx)(o.N,{hint:"ru"===q?"Ориентируйтесь на базовый размер интерфейса 16px и сравните высоту букв.":"Use the 16px base UI size and compare letter height."}),(0,s.jsxs)("div",{className:"text-xs text-soft",children:[(0,g.t)(q,"difficultyLabel"),": ",(0,p.Yy)(a.difficulty)]})]}),(0,s.jsx)("div",{className:"bg-surface-2 rounded-2xl p-8 flex items-center justify-center min-h-40 border border-subtle shadow-card",children:(0,s.jsx)(I.E.span,{className:"font-medium text-strong select-none text-center ".concat((0,k.rS)(a.size)),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:a.text},a.text)}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3",children:a.options.map((e,t)=>(0,s.jsx)(c.Z,{onClick:()=>V(t),selected:r===t,correct:i?e===a.size:null,children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("span",{className:"font-mono text-lg",children:[e,"px"]}),(0,s.jsxs)("span",{className:"hidden sm:inline text-xs text-soft ml-2",children:["[",t+1,"]"]})]})},t))}),i&&(0,s.jsxs)(I.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center text-sm text-muted",children:["ru"===q?"Правильный размер":"Correct size",":"," ",(0,s.jsxs)("span",{className:"font-mono font-medium",children:[a.size,"px"]}),(0,s.jsxs)("span",{className:"text-xs block mt-1 text-soft",children:["ru"===q?"Шкала":"Scale",": ",(0,g.N)(L[a.scale],q)]})]})]}):(0,s.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,s.jsx)("div",{className:"text-soft",children:(0,g.t)(q,"loading")})})},q=(e,t)=>({ru:e,en:t}),E=[{name:"Manrope",family:"Manrope, sans-serif",category:"sans-serif",characteristics:q("Современный гротеск с мягкой геометрией","Modern grotesque with soft geometry")},{name:"Space Grotesk",family:'"Space Grotesk", sans-serif',category:"display",characteristics:q("Выразительный гротеск с широкими пропорциями","Expressive grotesque with wide proportions")},{name:"Inter",family:"Inter, sans-serif",category:"sans-serif",characteristics:q("Геометрический гротеск с открытыми формами","Geometric grotesque with open forms")},{name:"Roboto",family:"Roboto, sans-serif",category:"sans-serif",characteristics:q("Механистичный гротеск от Google","Mechanical grotesque by Google")},{name:"Open Sans",family:'"Open Sans", sans-serif',category:"sans-serif",characteristics:q("Гуманистический гротеск с открытыми формами","Humanist grotesque with open forms")},{name:"Lato",family:"Lato, sans-serif",category:"sans-serif",characteristics:q("Тёплый гротеск с полукруглыми деталями","Warm grotesque with semi-rounded details")},{name:"Montserrat",family:"Montserrat, sans-serif",category:"sans-serif",characteristics:q("Геометрический гротеск с прямыми штрихами","Geometric grotesque with straight strokes")},{name:"Poppins",family:"Poppins, sans-serif",category:"sans-serif",characteristics:q("Геометрический гротеск с круглыми формами","Geometric grotesque with circular forms")},{name:"Nunito",family:"Nunito, sans-serif",category:"sans-serif",characteristics:q("Округлённый гротеск","Rounded grotesque")},{name:"Source Sans Pro",family:'"Source Sans Pro", sans-serif',category:"sans-serif",characteristics:q("Гуманистический гротеск от Adobe","Humanist grotesque by Adobe")},{name:"Playfair Display",family:'"Playfair Display", serif',category:"serif",characteristics:q("Контрастная антиква в стиле переходного периода","High-contrast serif in the transitional style")},{name:"Merriweather",family:"Merriweather, serif",category:"serif",characteristics:q("Экранная антиква с массивными засечками","Screen serif with heavy serifs")},{name:"Lora",family:"Lora, serif",category:"serif",characteristics:q("Современная антиква с умеренным контрастом","Modern serif with moderate contrast")},{name:"PT Serif",family:'"PT Serif", serif',category:"serif",characteristics:q("Русская антиква с мягкими формами","Russian serif with soft forms")},{name:"Fira Code",family:'"Fira Code", monospace',category:"monospace",characteristics:q("Моноширинный шрифт с лигатурами","Monospace font with ligatures")},{name:"JetBrains Mono",family:'"JetBrains Mono", monospace',category:"monospace",characteristics:q("Моноширинный с увеличенной высотой строчных","Monospace with a taller x-height")},{name:"Source Code Pro",family:'"Source Code Pro", monospace',category:"monospace",characteristics:q("Моноширинный гротеск от Adobe","Monospace grotesque by Adobe")}],F={serif:q("Антиква","Serif"),"sans-serif":q("Гротеск","Sans-serif"),monospace:q("Моноширинный","Monospace"),display:q("Дисплейный","Display")},z=(e,t)=>{let a;let s=(0,p.lV)(e),l=(0,f.sD)(E),r=(0,f.c4)(t);"easy"===s?a=E.filter(e=>e.category!==l.category&&e.name!==l.name):"medium"===s?a=E.filter(e=>e.name!==l.name):(a=E.filter(e=>e.category===l.category&&e.name!==l.name)).length<3&&(a=E.filter(e=>e.name!==l.name));let n=(0,f.TV)([l,...(0,f.TV)(a).slice(0,3)]);return{font:l,text:r,options:n,difficulty:s}},D=e=>{let{onAnswer:t}=e,[a,l]=(0,y.useState)(null),[r,n]=(0,y.useState)(null),[i,x]=(0,y.useState)(!1),[f,b]=(0,y.useState)(0),{addScore:j,incrementStreak:v,resetStreak:N,updateStats:w,addMistake:S,setReviewPause:C,language:k}=(0,u.g)(),{playCorrect:A,playWrong:M}=(0,h.c)();(0,y.useEffect)(()=>{l(z(f,k))},[k]);let T=(0,y.useCallback)(e=>{if(i||!a)return;n(e),x(!0);let s=a.options[e],r=s.name===a.font.name;if(r)j("expert"===a.difficulty?220:"hard"===a.difficulty?200:"medium"===a.difficulty?150:120),v(),A();else{N(),M();let e=(0,g.N)(a.font.characteristics,k),t=(0,g.N)(s.characteristics,k),l="ru"===k?"".concat(a.font.name," — ").concat(e,". ").concat(s.name," — ").concat(t,'. Обратите внимание на форму букв "a", "g", "e" и характер засечек.'):"".concat(a.font.name," — ").concat(e,". ").concat(s.name," — ").concat(t,'. Pay attention to the shapes of "a", "g", "e" and the presence of serifs.');S({question:"ru"===k?"Какой это шрифт?":"Which font is this?",userAnswer:s.name,correctAnswer:a.font.name,explanation:l})}w("guess-font",r);let c=r?1200:2400;C(c),setTimeout(()=>{t(r),b(e=>e+1),l(z(f+1,k)),n(null),x(!1)},c)},[a,i,f,C,k]),L=(0,y.useCallback)(()=>{a&&!i&&(t(!1),b(e=>e+1),l(z(f+1,k)),n(null),x(!1))},[a,i,f,t,k]);return((0,m.S)(L,!i),(0,d.A)(e=>{e<((null==a?void 0:a.options.length)||0)&&T(e)},!i),a)?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-display font-semibold tracking-tight",children:"ru"===k?"Какой это шрифт?":"Which font is this?"}),(0,s.jsx)(o.N,{hint:"ru"===k?'Смотрите на формы "a", "g", контраст штрихов и наличие засечек.':'Look at the shapes of "a", "g", stroke contrast, and the presence of serifs.'}),(0,s.jsxs)("div",{className:"text-xs text-soft",children:[(0,g.t)(k,"difficultyLabel"),": ",(0,p.Yy)(a.difficulty)]})]}),(0,s.jsx)("div",{className:"bg-surface-2 rounded-2xl p-8 flex items-center justify-center min-h-40 border border-subtle shadow-card",children:(0,s.jsx)(I.E.span,{style:{"--sample-font":a.font.family},className:"font-sample text-[48px] text-strong select-none",initial:{opacity:0},animate:{opacity:1},children:a.text})}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3",children:a.options.map((e,t)=>(0,s.jsx)(c.Z,{onClick:()=>T(t),selected:r===t,correct:i?e.name===a.font.name:null,children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("span",{className:"font-medium",children:e.name}),(0,s.jsxs)("span",{className:"hidden sm:inline text-xs text-soft ml-2",children:["[",t+1,"]"]}),(0,s.jsx)("div",{className:"text-xs text-soft mt-1",children:(0,g.N)(F[e.category],k)})]})},t))}),i&&(0,s.jsxs)(I.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center text-sm text-muted",children:[(0,s.jsx)("div",{className:"font-medium",children:a.font.name}),(0,s.jsx)("div",{className:"text-xs mt-1 text-soft",children:(0,g.N)(a.font.characteristics,k)})]})]}):null},V=(e,t)=>({ru:e,en:t}),P={hue:V("Оттенок (H)","Hue (H)"),saturation:V("Насыщенность (S)","Saturation (S)"),lightness:V("Светлота (L)","Lightness (L)")},W={hue:V("Оттенок — положение на цветовом круге: 0\xb0 — красный, 60\xb0 — жёлтый, 120\xb0 — зелёный, 180\xb0 — циан, 240\xb0 — синий, 300\xb0 — маджента","Hue is the position on the color wheel: 0\xb0 — red, 60\xb0 — yellow, 120\xb0 — green, 180\xb0 — cyan, 240\xb0 — blue, 300\xb0 — magenta"),saturation:V("Насыщенность показывает интенсивность цвета: 0% — серый, 100% — чистый цвет","Saturation shows color intensity: 0% — gray, 100% — pure color"),lightness:V("Светлота — количество белого/чёрного: 0% — чёрный, 50% — чистый цвет, 100% — белый","Lightness is the amount of white/black: 0% — black, 50% — pure color, 100% — white")},R=(e,t,a)=>{let s;switch(a){case"easy":s="hue"===t?60:25;break;case"medium":s="hue"===t?30:15;break;case"hard":s="hue"===t?15:8;break;case"expert":s="hue"===t?8:5}let l=new Set([e]);for(;l.size<4;){let a=Math.floor(Math.random()*s*2)-s;0===a&&(a=s);let r=e+a;r="hue"===t?(r%360+360)%360:Math.max(5,Math.min(95,r)),l.add(r)}return(0,f.TV)([...l])},B=e=>{let t;let a=(0,f.sD)(["hue","saturation","lightness"]),s=(0,x.Nj)(),{r:l,g:r,b:n}=(0,x.ve)(s.h,s.s,s.l),c=(0,x.vq)(l,r,n);switch(a){case"hue":t=s.h;break;case"saturation":t=s.s;break;case"lightness":t=s.l}let o=R(t,a,e);return{mode:"value",color:c,hsl:s,paramType:a,options:o,correctValue:t,difficulty:e}},O=e=>{let t;let a=(0,f.sD)(["hue","saturation","lightness"]),s=(0,x.Nj)();switch(e){case"easy":t="hue"===a?60:30;break;case"medium":t="hue"===a?35:18;break;case"hard":t="hue"===a?20:12;break;case"expert":t="hue"===a?12:8}let l=Math.random()>.5?1:-1,r={...s};"hue"===a?r.h=((r.h+l*t)%360+360)%360:"saturation"===a?r.s=Math.max(10,Math.min(95,r.s+l*t)):r.l=Math.max(10,Math.min(90,r.l+l*t));let n=(0,x.ve)(s.h,s.s,s.l),c=(0,x.ve)(r.h,r.s,r.l);return{mode:"shift",baseColor:(0,x.vq)(n.r,n.g,n.b),baseHsl:s,targetColor:(0,x.vq)(c.r,c.g,c.b),targetHsl:r,paramType:a,options:(0,f.TV)(["hue","saturation","lightness"]),difficulty:e}},Y=e=>{let t=(0,p.lV)(e);return"easy"!==t&&Math.random()>.45?O(t):B(t)},Z=e=>{let{onAnswer:t}=e,[a,l]=(0,y.useState)(null),[r,n]=(0,y.useState)(null),[x,f]=(0,y.useState)(!1),[b,j]=(0,y.useState)(0),{addScore:v,incrementStreak:N,resetStreak:w,updateStats:S,addMistake:C,setReviewPause:k,language:A}=(0,u.g)(),{playCorrect:M,playWrong:T}=(0,h.c)(),L=e=>(0,g.N)(P[e],A),H=e=>(0,g.N)(W[e],A);(0,y.useEffect)(()=>{l(Y(b))},[]);let G=(0,y.useCallback)(e=>{if(x||!a)return;n(e),f(!0);let s="value"===a.mode?a.options[e]===a.correctValue:a.options[e]===a.paramType;if(s)v("expert"===a.difficulty?180:"hard"===a.difficulty?150:"medium"===a.difficulty?120:100),N(),M();else if(w(),T(),"value"===a.mode){let t="hue"===a.paramType?"\xb0":"%",s=a.options[e],l=L(a.paramType),r="ru"===A?"".concat(H(a.paramType),". Полные HSL значения для этого цвета: H=").concat(a.hsl.h,"\xb0, S=").concat(a.hsl.s,"%, L=").concat(a.hsl.l,"%"):"".concat(H(a.paramType),". Full HSL values for this color: H=").concat(a.hsl.h,"\xb0, S=").concat(a.hsl.s,"%, L=").concat(a.hsl.l,"%");C({question:"ru"===A?"Определи ".concat(l," цвета"):"Determine the ".concat(l," of the color"),userAnswer:"".concat(s).concat(t),correctAnswer:"".concat(a.correctValue).concat(t),explanation:r,visual:{type:"colors",data:{["ru"===A?"Цвет":"Color"]:a.color}}})}else{let t=a.options[e],s="ru"===A?"".concat(H(a.paramType),". Исходный цвет: H=").concat(a.baseHsl.h,"\xb0, S=").concat(a.baseHsl.s,"%, L=").concat(a.baseHsl.l,"%."):"".concat(H(a.paramType),". Base color: H=").concat(a.baseHsl.h,"\xb0, S=").concat(a.baseHsl.s,"%, L=").concat(a.baseHsl.l,"%."),l="ru"===A?"Цвет A":"Color A",r="ru"===A?"Цвет B":"Color B";C({question:"ru"===A?"Что изменилось между двумя цветами?":"What changed between the two colors?",userAnswer:L(t),correctAnswer:L(a.paramType),explanation:s,visual:{type:"colors",data:{[l]:a.baseColor,[r]:a.targetColor}}})}S("color-params",s);let r=s?1200:2400;k(r),setTimeout(()=>{t(s),j(e=>e+1),l(Y(b+1)),n(null),f(!1)},r)},[a,x,b,k]),q=(0,y.useCallback)(()=>{a&&!x&&(t(!1),j(e=>e+1),l(Y(b+1)),n(null),f(!1))},[a,x,b,t]);return((0,m.S)(q,!x),(0,d.A)(e=>{e<((null==a?void 0:a.options.length)||0)&&G(e)},!x),a)?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-display font-semibold tracking-tight",children:"value"===a.mode?"ru"===A?"Определить ".concat(L(a.paramType)):"Determine ".concat(L(a.paramType)):"ru"===A?"Что изменилось между цветами?":"What changed between the colors?"}),(0,s.jsx)(o.N,{hint:"value"===a.mode?H(a.paramType):"ru"===A?"Сравните оба свотча и определите, какой параметр изменился.":"Compare both swatches and decide which parameter shifted."}),(0,s.jsxs)("div",{className:"text-xs text-soft",children:[(0,g.t)(A,"difficultyLabel"),": ",(0,p.Yy)(a.difficulty)]})]}),(0,s.jsx)("div",{className:"flex justify-center",children:"value"===a.mode?(0,s.jsx)(I.E.div,{className:"w-40 h-40",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:(0,s.jsx)(i.m,{color:a.color,className:"w-full h-full rounded-2xl shadow-card"})}):(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(I.E.div,{className:"w-28 h-28",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:(0,s.jsx)(i.m,{color:a.baseColor,className:"w-full h-full rounded-2xl shadow-card"})}),(0,s.jsx)(I.E.div,{className:"w-28 h-28",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:(0,s.jsx)(i.m,{color:a.targetColor,className:"w-full h-full rounded-2xl shadow-card"})})]})}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3",children:a.options.map((e,t)=>(0,s.jsx)(c.Z,{onClick:()=>G(t),selected:r===t,correct:x?"value"===a.mode?e===a.correctValue:e===a.paramType:null,children:"value"===a.mode?(0,s.jsxs)("div",{className:"text-center font-mono text-lg",children:[e,"hue"===a.paramType?"\xb0":"%",(0,s.jsxs)("span",{className:"hidden sm:inline text-xs text-soft ml-2",children:["[",t+1,"]"]})]}):(0,s.jsxs)("div",{className:"text-center font-medium",children:[L(e),(0,s.jsxs)("span",{className:"hidden sm:inline text-xs text-soft ml-2",children:["[",t+1,"]"]})]})},t))}),x&&(0,s.jsx)(I.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center text-sm text-muted",children:"value"===a.mode?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"font-mono",children:["HSL(",a.hsl.h,"\xb0, ",a.hsl.s,"%, ",a.hsl.l,"%)"]}),(0,s.jsx)("div",{className:"text-xs mt-1 text-soft",children:a.color.toUpperCase()})]}):(0,s.jsxs)("div",{className:"text-xs text-soft",children:["ru"===A?"Изменение":"Change",": ",L(a.paramType)," •"," ","ru"===A?"Цвет A":"Color A"," → ","ru"===A?"Цвет B":"Color B"]})})]}):null},U=(e,t)=>({ru:e,en:t}),X=e=>e>=7?"AAA":e>=4.5?"AA":e>=3?"AA Large":"Fail",_={AAA:U("Контраст ≥7:1 — максимальный уровень доступности для обычного текста","Contrast ≥7:1 — highest accessibility level for normal text"),AA:U("Контраст ≥4.5:1 — минимальный стандарт для обычного текста","Contrast ≥4.5:1 — minimum standard for normal text"),"AA Large":U("Контраст ≥3:1 — допустимо только для крупного текста (18pt+ или 14pt bold)","Contrast ≥3:1 — allowed only for large text (18pt+ or 14pt bold)"),Fail:U("Контраст <3:1 — не соответствует WCAG","Contrast <3:1 — does not meet WCAG standards")},Q={level:U("Определить уровень WCAG","Determine the WCAG level"),"pass-fail":U("Проходит ли WCAG AA?","Passes WCAG AA?"),"large-text":U("Проходит ли для крупного текста?","Passes for large text?")},J=U("AA требует 4.5:1, для крупного текста достаточно 3:1, AAA начинается с 7:1.","AA needs 4.5:1, large text allows 3:1, AAA starts at 7:1."),K=U("Проходит","Pass"),$=U("Не проходит","Fail"),ee=U("Контраст","Contrast"),et=U("Текст","Text"),ea=U("Фон","Background"),es=U("Для крупного текста достаточно 3:1 (AA Large).","Large text requires only 3:1 (AA Large)."),el=(e,t)=>(0,g.N)(Q[e],t),er=(e,t,a)=>"pass-fail"===e||"large-text"===e?"AA"===t?(0,g.N)(K,a):(0,g.N)($,a):t,en=(e,t)=>{let a="#ffffff"===e||"#fafafa"===e,s=0;for(;s<50;){let l=(0,x.Nj)();switch(t){case"AAA":l.l=a?Math.floor(25*Math.random())+5:Math.floor(25*Math.random())+70;break;case"AA":l.l=a?Math.floor(20*Math.random())+25:Math.floor(20*Math.random())+55;break;case"AA Large":l.l=a?Math.floor(15*Math.random())+40:Math.floor(15*Math.random())+45;break;case"Fail":l.l=a?Math.floor(20*Math.random())+55:Math.floor(20*Math.random())+25,l.s=Math.floor(30*Math.random())+20}let{r,g:n,b:c}=(0,x.ve)(l.h,l.s,l.l),o=(0,x.vq)(r,n,c);if(X((0,x.mi)(o,e))===t)return o;s++}return a?"#333333":"#cccccc"},ec=(e,t)=>{let a;let s=(0,p.lV)(e),l="easy"===s?"pass-fail":"expert"===s?"large-text":(0,f.sD)(["level","pass-fail"]),r=(0,f.sD)(["#ffffff","#fafafa","#1a1a1a","#0a0a0a","#f3f0e8","#102a43"]),n=["AAA","AA","AA Large","Fail"],c=en(r,(0,f.sD)(n)),o=(0,x.mi)(c,r),i=X(o),d=o>=4.5,m=o>=3,h="pass-fail"===l?d?"AA":"Fail":"large-text"===l?m?"AA":"Fail":i;"pass-fail"===l||"large-text"===l?a=(0,f.TV)(["AA","Fail"]):"easy"===s?(a=(0,f.TV)(["AAA","AA","Fail"])).includes(h)||(a[0]=h):a=(0,f.TV)([...n]);let u=(0,f.Jf)(t);return{foreground:c,background:r,contrastRatio:o,correctLevel:h,options:a.slice(0,4),text:u,difficulty:s,mode:l}},eo=e=>{let{onAnswer:t}=e,[a,l]=(0,y.useState)(null),[r,n]=(0,y.useState)(null),[i,x]=(0,y.useState)(!1),[f,b]=(0,y.useState)(0),j=(0,u.g)(e=>e.language),{addScore:v,incrementStreak:N,resetStreak:w,updateStats:S,addMistake:C,setReviewPause:k}=(0,u.g)(),{playCorrect:A,playWrong:M}=(0,h.c)();(0,y.useEffect)(()=>{l(ec(f,j))},[j]);let T=(0,y.useCallback)(e=>{if(i||!a)return;n(e),x(!0);let s=a.options[e],r=s===a.correctLevel;if(r)v("hard"===a.difficulty?150:"medium"===a.difficulty?130:120),N(),A();else{w(),M();let e="large-text"===a.mode?(0,g.N)(es,j):(0,g.N)(_[a.correctLevel],j),t=(0,g.N)(ee,j),l=(0,g.N)(et,j),r=(0,g.N)(ea,j);C({question:el(a.mode,j),userAnswer:er(a.mode,s,j),correctAnswer:er(a.mode,a.correctLevel,j),explanation:"".concat(t," ").concat(a.contrastRatio.toFixed(2),":1. ").concat(e),visual:{type:"contrast",data:{[l]:a.foreground,[r]:a.background}}})}S("accessibility",r);let c=r?1200:2400;k(c),setTimeout(()=>{t(r),b(e=>e+1),l(ec(f+1,j)),n(null),x(!1)},c)},[a,i,f,k,j]),L=(0,y.useCallback)(()=>{a&&!i&&(t(!1),b(e=>e+1),l(ec(f+1,j)),n(null),x(!1))},[a,i,f,t,j]);if((0,m.S)(L,!i),(0,d.A)(e=>{e<((null==a?void 0:a.options.length)||0)&&T(e)},!i),!a)return null;let H={AAA:"text-[color:var(--success)]",AA:"text-accent","AA Large":"text-[color:var(--warning)]",Fail:"text-[color:var(--danger)]"},G={"--swatch":a.background,"--swatch-ink":a.foreground};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-display font-semibold tracking-tight",children:el(a.mode,j)}),(0,s.jsx)(o.N,{hint:(0,g.N)(J,j)}),(0,s.jsxs)("div",{className:"text-xs text-soft",children:[(0,g.t)(j,"difficultyLabel"),": ",(0,p.Yy)(a.difficulty)]})]}),(0,s.jsxs)(I.E.div,{className:"rounded-2xl p-8 min-h-32 flex flex-col items-center justify-center bg-swatch border border-subtle shadow-card",style:G,initial:{opacity:0},animate:{opacity:1},children:["large-text"===a.mode&&(0,s.jsx)("span",{className:"text-xs opacity-60 mb-2 text-swatch",children:"ru"===j?"КРУПНЫЙ ТЕКСТ (18pt+)":"LARGE TEXT (18pt+)"}),(0,s.jsx)("p",{className:"font-medium text-center text-swatch ".concat("large-text"===a.mode?"text-3xl":"text-2xl"),children:a.text})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3",children:a.options.map((e,t)=>(0,s.jsx)(c.Z,{onClick:()=>T(t),selected:r===t,correct:i?e===a.correctLevel:null,children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("span",{className:"font-mono text-lg ".concat(H[e]),children:er(a.mode,e,j)}),(0,s.jsxs)("span",{className:"hidden sm:inline text-xs text-soft ml-2",children:["[",t+1,"]"]})]})},t))}),i&&(0,s.jsxs)(I.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center text-sm text-muted",children:[(0,s.jsxs)("div",{className:"font-mono",children:[(0,g.N)(ee,j),": ",a.contrastRatio.toFixed(2),":1"]}),(0,s.jsx)("div",{className:"text-xs mt-1 text-soft",children:"large-text"===a.mode?(0,g.N)(es,j):(0,g.N)(_[a.correctLevel],j)})]})]})},ei=(e,t)=>({ru:e,en:t}),ed={monochromatic:ei("монохромная","monochromatic"),analogous:ei("аналоговая","analogous"),complementary:ei("комплементарная","complementary"),triadic:ei("триадная","triadic"),split:ei("сплит-комплементарная","split-complementary"),tetradic:ei("тетра́дная","tetradic")},em={monochromatic:ei("Монохромная палитра использует один тон (H) с разной насыщенностью и светлотой","A monochromatic palette uses one hue (H) with varying saturation and lightness"),analogous:ei("Аналоговая палитра использует соседние тона на цветовом круге (\xb130\xb0)","An analogous palette uses neighboring hues on the color wheel (\xb130\xb0)"),complementary:ei("Комплементарная палитра использует противоположные тона (180\xb0)","A complementary palette uses opposite hues (180\xb0)"),triadic:ei("Триадная палитра использует три равноудалённых тона (120\xb0 друг от друга)","A triadic palette uses three evenly spaced hues (120\xb0 apart)"),split:ei("Сплит-комплементарная палитра использует два тона вокруг комплементарного (\xb130\xb0)","A split-complementary palette uses two hues around the complement (\xb130\xb0)"),tetradic:ei("Тетрадная палитра использует две пары комплементарных тонов (через 90\xb0)","A tetradic palette uses two complementary pairs (90\xb0 apart)")},eh=(e,t,a)=>{let s=[];switch(e){case"monochromatic":for(let e=0;e<a;e++)s.push({h:t,s:40+(0,f.Iy)(0,40),l:25+12*e+(0,f.Iy)(-5,5)});break;case"analogous":for(let e=0;e<a;e++){let l=(e-Math.floor(a/2))*20;s.push({h:(t+l+360)%360,s:50+(0,f.Iy)(0,30),l:45+(0,f.Iy)(-10,10)})}break;case"complementary":for(let e=0;e<a;e++){let l=e>=a/2;s.push({h:l?(t+180)%360:t,s:50+(0,f.Iy)(0,30),l:40+(0,f.Iy)(0,20)})}break;case"triadic":for(let e=0;e<a;e++){let a=120*Math.floor(e/2);s.push({h:(t+a)%360,s:50+(0,f.Iy)(0,30),l:45+(0,f.Iy)(-5,10)})}break;case"split":{let e=[(t+150)%360,(t+210)%360];for(let l=0;l<a;l++){let a=0===l?t:e[l%e.length];s.push({h:a,s:45+(0,f.Iy)(0,30),l:40+(0,f.Iy)(-5,12)})}break}case"tetradic":{let e=[0,90,180,270];for(let l=0;l<a;l++){let a=(t+e[l%e.length])%360;s.push({h:a,s:45+(0,f.Iy)(0,30),l:40+(0,f.Iy)(-5,12)})}}}return s},eu=(e,t,a)=>{let s;switch(a){case"easy":s=(t+90+(0,f.Iy)(30,60))%360;break;case"medium":s=(t+60+(0,f.Iy)(20,40))%360;break;case"hard":s=(t+40+(0,f.Iy)(10,25))%360;break;case"expert":s=(t+30+(0,f.Iy)(8,16))%360}return{h:s,s:50+(0,f.Iy)(0,30),l:45+(0,f.Iy)(-5,15)}},ex=e=>{let t=(0,p.lV)(e),a=(0,f.sD)(["monochromatic","analogous","complementary","triadic","split","tetradic"]),s=(0,f.Iy)(0,359),l="hard"===t||"expert"===t?6:5,r=eh(a,s,l-1),n=eu(a,s,t),c=(0,f.Iy)(0,l-1),o=[...r];return o.splice(c,0,n),{colors:o.map(e=>{let{r:t,g:a,b:s}=(0,x.ve)(e.h,e.s,e.l);return(0,x.vq)(t,a,s)}),errorIndex:c,paletteType:a,baseHue:s,difficulty:t}},ep=e=>{let{onAnswer:t}=e,[a,l]=(0,y.useState)(null),[r,n]=(0,y.useState)(null),[i,x]=(0,y.useState)(!1),[f,b]=(0,y.useState)(0),j=(0,u.g)(e=>e.language),{addScore:v,incrementStreak:N,resetStreak:w,updateStats:S,addMistake:C,setReviewPause:k}=(0,u.g)(),{playCorrect:A,playWrong:M}=(0,h.c)();(0,y.useEffect)(()=>{l(ex(f))},[]);let T=(0,y.useCallback)(e=>{if(i||!a)return;n(e),x(!0);let s=e===a.errorIndex;if(s)v("expert"===a.difficulty?220:"hard"===a.difficulty?200:"medium"===a.difficulty?150:120),N(),A();else{w(),M();let t=(0,g.N)(ed[a.paletteType],j),s=(0,g.N)(em[a.paletteType],j),l="ru"===j?"Цвет":"Color";C({question:"ru"===j?"Найти цвет, выбивающийся из ".concat(t," палитры"):"Find the color that does not belong to the ".concat(t," palette"),userAnswer:"".concat(l," ").concat(e+1),correctAnswer:"".concat(l," ").concat(a.errorIndex+1),explanation:"ru"===j?"".concat(s,". Базовый тон палитры: ").concat(a.baseHue,"\xb0. Ошибочный цвет имеет тон, не вписывающийся в схему."):"".concat(s,". Palette base hue: ").concat(a.baseHue,"\xb0. The odd color uses a hue outside the scheme."),visual:{type:"colors",data:a.colors.reduce((e,t,a)=>({...e,["".concat(l," ").concat(a+1)]:t}),{})}})}S("palette-error",s);let r=s?1200:2400;k(r),setTimeout(()=>{t(s),b(e=>e+1),l(ex(f+1)),n(null),x(!1)},r)},[a,i,f,k,j]),L=(0,y.useCallback)(()=>{a&&!i&&(t(!1),b(e=>e+1),l(ex(f+1)),n(null),x(!1))},[a,i,f,t]);if((0,m.S)(L,!i),(0,d.A)(e=>{e<((null==a?void 0:a.colors.length)||0)&&T(e)},!i),!a)return null;let H=(0,g.N)(ed[a.paletteType],j),G=(0,g.N)(em[a.paletteType],j),q="ru"===j?"Палитра":"Palette",E="ru"===j?"Ошибка в цвете":"Odd color";return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-display font-semibold tracking-tight",children:"ru"===j?"Найти лишний цвет":"Find the odd color"}),(0,s.jsx)(o.N,{hint:G}),(0,s.jsxs)("div",{className:"text-xs text-soft mt-1",children:[q,": ",H," • ",(0,g.t)(j,"difficultyLabel"),": ",(0,p.Yy)(a.difficulty)]})]}),(0,s.jsx)("div",{className:"grid gap-3 ".concat(a.colors.length>5?"grid-cols-3":"grid-cols-5"),children:a.colors.map((e,t)=>(0,s.jsx)(c.Z,{onClick:()=>T(t),selected:r===t,correct:i?t===a.errorIndex:null,padding:"none",className:"aspect-square overflow-hidden",children:(0,s.jsx)(I.E.div,{className:"w-full h-full flex items-end justify-center pb-2 bg-swatch",style:{"--swatch":e},whileHover:{scale:1.05},children:(0,s.jsx)("span",{className:"px-1.5 py-0.5 bg-[color:var(--surface-1-95)] rounded text-xs font-mono",children:t+1})})},t))}),i&&(0,s.jsxs)(I.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center text-sm text-muted",children:[(0,s.jsxs)("div",{children:[E," ",a.errorIndex+1]}),(0,s.jsx)("div",{className:"text-xs mt-1 text-soft",children:G})]})]})},ef=(e,t)=>({ru:e,en:t}),eg={modular:ef("модульная","modular"),linear:ef("линейная","linear"),fibonacci:ef("Фибоначчи","Fibonacci"),golden:ef("золотое сечение","golden ratio"),"major-third":ef("большая терция (1.25)","major third"),"perfect-fourth":ef("чистая кварта (1.333)","perfect fourth")},ey={modular:ef("Модульная шкала умножает базовый размер на постоянный коэффициент (обычно 1.2-1.5)","A modular scale multiplies the base size by a constant ratio (typically 1.2–1.5)."),linear:ef("Линейная шкала добавляет фиксированное значение к каждому следующему размеру","A linear scale adds a fixed step to each next size."),fibonacci:ef("Шкала Фибоначчи: каждое число — сумма двух предыдущих","A Fibonacci scale: each number is the sum of the two previous ones."),golden:ef("Золотое сечение использует коэффициент 1.618 для каждого следующего размера","The golden ratio uses 1.618 as the multiplier for each next size."),"major-third":ef("Major Third масштабирует размеры по коэффициенту 1.25","Major Third scales sizes by 1.25."),"perfect-fourth":ef("Perfect Fourth масштабирует размеры по коэффициенту 1.333","Perfect Fourth scales sizes by 1.333.")},eb=e=>k.gk.reduce((t,a)=>Math.abs(a-e)<Math.abs(t-e)?a:t,k.gk[0]),ej=e=>{let t=[],a=0;for(let s of e){let e=eb(s),l=e>a?e:k.gk.find(e=>e>a)||e;t.push(l),a=l}return t},ev=(e,t)=>{let a=[];switch(e){case"modular":{let e=(0,f.sD)([1.2,1.25,1.333,1.414,1.5]);for(let s=0;s<t;s++)a.push(Math.round(16*Math.pow(e,s)));break}case"linear":{let e=(0,f.sD)([2,3,4]);for(let s=0;s<t;s++)a.push(12+s*e);break}case"fibonacci":a.push(...[8,13,21,34,55,89].slice(0,t));break;case"golden":for(let e=0;e<t;e++)a.push(Math.round(10*Math.pow(1.618,e)));break;case"major-third":for(let e=0;e<t;e++)a.push(Math.round(14*Math.pow(1.25,e)));break;case"perfect-fourth":for(let e=0;e<t;e++)a.push(Math.round(14*Math.pow(1.333,e)))}return ej(a)},eN=(e,t,a)=>{let s;let l=e[t];switch(a){case"easy":s=l+(Math.random()>.5?1:-1)*(0,f.Iy)(6,10);break;case"medium":s=l+(Math.random()>.5?1:-1)*(0,f.Iy)(3,5);break;case"hard":s=l+(Math.random()>.5?1:-1)*(0,f.Iy)(1,2);break;case"expert":s=l+(Math.random()>.5?1:-1)*1}return Math.max(8,s)},ew=e=>{let t=(0,p.lV)(e),a=(0,f.sD)(["modular","linear","golden","fibonacci","major-third","perfect-fourth"]),s="hard"===t||"expert"===t?6:5,l=ev(a,s),r=(0,f.Iy)(1,s-2),n=eN(l,r,t),c=[...l];return c[r]=n,{sizes:c,errorIndex:r,scaleType:a,ratio:"modular"===a?1.333:"golden"===a?1.618:"major-third"===a?1.25:"perfect-fourth"===a?1.333:1,difficulty:t}},eS=e=>{let{onAnswer:t}=e,[a,l]=(0,y.useState)(null),[r,n]=(0,y.useState)(null),[i,x]=(0,y.useState)(!1),[f,b]=(0,y.useState)(0),{addScore:j,incrementStreak:v,resetStreak:N,updateStats:w,addMistake:S,setReviewPause:C,language:A}=(0,u.g)(),{playCorrect:M,playWrong:T}=(0,h.c)();(0,y.useEffect)(()=>{l(ew(f))},[]);let L=(0,y.useCallback)(e=>{if(i||!a)return;n(e),x(!0);let s=e===a.errorIndex,r=ev(a.scaleType,a.sizes.length),c=(0,g.N)(eg[a.scaleType],A),o=(0,g.N)(ey[a.scaleType],A);s?(j("expert"===a.difficulty?180:"hard"===a.difficulty?150:"medium"===a.difficulty?120:100),v(),M()):(N(),T(),S({question:"ru"===A?"Найти ошибку в ".concat(c," шкале"):"Find the error in the ".concat(c," scale"),userAnswer:"ru"===A?"Позиция ".concat(e+1," (").concat(a.sizes[e],"px)"):"Position ".concat(e+1," (").concat(a.sizes[e],"px)"),correctAnswer:"ru"===A?"Позиция ".concat(a.errorIndex+1," (должно быть ").concat(r[a.errorIndex],"px, показано ").concat(a.sizes[a.errorIndex],"px)"):"Position ".concat(a.errorIndex+1," (should be ").concat(r[a.errorIndex],"px, shown ").concat(a.sizes[a.errorIndex],"px)"),explanation:"ru"===A?"".concat(o,". Правильная последовательность: ").concat(r.join(", "),"px"):"".concat(o,". Correct sequence: ").concat(r.join(", "),"px")})),w("size-sequence",s);let d=s?1200:2400;C(d),setTimeout(()=>{t(s),b(e=>e+1),l(ew(f+1)),n(null),x(!1)},d)},[a,i,f,C,A]),H=(0,y.useCallback)(()=>{a&&!i&&(t(!1),b(e=>e+1),l(ew(f+1)),n(null),x(!1))},[a,i,f,t,A]);return((0,m.S)(H,!i),(0,d.A)(e=>{e<((null==a?void 0:a.sizes.length)||0)&&L(e)},!i),a)?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-display font-semibold tracking-tight",children:"ru"===A?"Найти ошибку в шкале":"Find the error in the scale"}),(0,s.jsx)(o.N,{hint:(0,g.N)(ey[a.scaleType],A)}),(0,s.jsxs)("div",{className:"text-xs text-soft mt-1",children:["ru"===A?"Тип":"Type",": ",(0,g.N)(eg[a.scaleType],A)," •"," ",(0,g.t)(A,"difficultyLabel"),": ",(0,p.Yy)(a.difficulty)]})]}),(0,s.jsx)("div",{className:"flex flex-col gap-3",children:a.sizes.map((e,t)=>(0,s.jsx)(c.Z,{onClick:()=>L(t),selected:r===t,correct:i?t===a.errorIndex:null,className:"overflow-hidden",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("span",{className:"w-8 text-center font-mono text-sm text-soft",children:t+1}),(0,s.jsx)(I.E.span,{className:"font-medium text-strong flex-1 ".concat((0,k.rS)(e,"text-[48px]")),initial:{opacity:0},animate:{opacity:1},children:"Aa"}),(0,s.jsxs)("span",{className:"font-mono text-sm text-muted",children:[e,"px"]})]})},t))}),i&&(0,s.jsxs)(I.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center text-sm text-muted",children:[(0,s.jsxs)("div",{children:["ru"===A?"Ошибка на позиции":"Error at position"," ",a.errorIndex+1]}),(0,s.jsx)("div",{className:"text-xs mt-1 text-soft",children:(0,g.N)(ey[a.scaleType],A)})]})]}):null},eC=(e,t)=>({ru:e,en:t}),ek={complementary:eC("Выбрать комплементарный цвет","Choose the complementary color"),split:eC("Выбрать сплит-комплементарный цвет","Choose the split-complementary color")},eI={complementary:eC("Комплементарные цвета расположены напротив на круге (180\xb0).","Complementary colors are 180\xb0 apart on the wheel."),split:eC("Сплит-комплементарный находится на \xb130\xb0 от комплементарного.","Split-complementary sits \xb130\xb0 from the complement.")},eA={complementary:(e,t)=>({ru:"Комплементарный цвет находится на противоположной стороне цветового круга (180\xb0 от базового). Базовый тон: ".concat(e,"\xb0, комплементарный: ").concat(t,"\xb0"),en:"A complementary color is on the opposite side of the color wheel (180\xb0 from the base). Base hue: ".concat(e,"\xb0, complementary: ").concat(t,"\xb0")}),split:(e,t)=>({ru:"Сплит-комплементарные цвета находятся на \xb130\xb0 от комплементарного. Базовый тон: ".concat(e,"\xb0, целевой: ").concat(t,"\xb0"),en:"Split-complementary colors sit \xb130\xb0 from the complement. Base hue: ".concat(e,"\xb0, target: ").concat(t,"\xb0")})},eM={hue:eC("Тон","Hue"),deviation:eC("отклонение","deviation"),correct:eC("правильный","correct"),base:eC("Базовый","Base"),complementary:eC("Комплементарный","Complementary"),yourChoice:eC("Ваш выбор","Your choice")},eT=e=>{let t;let a=(0,p.lV)(e),s="easy"===a?"complementary":(0,f.sD)(["complementary","split"]),l=(0,x.Nj)(),{r,g:n,b:c}=(0,x.ve)(l.h,l.s,l.l),o=(0,x.vq)(r,n,c),i=(0,x.SU)(l.h),d=(0,f.sD)([30,-30]),m="split"===s?(i+d+360)%360:i;switch(a){case"easy":t=[(l.h+90)%360,(l.h+60)%360,(l.h+270)%360];break;case"medium":t=[(i+45)%360,(i+315)%360,(l.h+90)%360];break;case"hard":t=[(m+18)%360,(m+342)%360,(i+15)%360];break;case"expert":t=[(m+12)%360,(m+348)%360,(i+8)%360]}let h=[m,...t].map(e=>{let{r:t,g:a,b:s}=(0,x.ve)(e,l.s,l.l);return{color:(0,x.vq)(t,a,s),hue:e}}),u=(0,f.TV)(h),g=u.findIndex(e=>e.hue===m);return{baseColor:o,baseHsl:l,options:u,correctIndex:g,difficulty:a,mode:s,targetHue:m}},eL=e=>{let{onAnswer:t}=e,[a,l]=(0,y.useState)(null),[r,n]=(0,y.useState)(null),[f,b]=(0,y.useState)(!1),[j,v]=(0,y.useState)(0),{addScore:N,incrementStreak:w,resetStreak:S,updateStats:C,addMistake:k,setReviewPause:A,language:M}=(0,u.g)(),{playCorrect:T,playWrong:L}=(0,h.c)();(0,y.useEffect)(()=>{l(eT(j))},[]);let H=(0,y.useCallback)(e=>{if(f||!a)return;n(e),b(!0);let s=e===a.correctIndex,r=(0,x.SU)(a.baseHsl.h);if(s)N("expert"===a.difficulty?180:"hard"===a.difficulty?150:"medium"===a.difficulty?120:100),w(),T();else{S(),L();let t=a.options[e].hue,s="split"===a.mode?eA.split(a.baseHsl.h,a.targetHue):eA.complementary(a.baseHsl.h,r);k({question:(0,g.N)(ek[a.mode],M),userAnswer:"".concat((0,g.N)(eM.hue,M)," ").concat(t,"\xb0 (").concat((0,g.N)(eM.deviation,M)," ").concat(Math.abs(t-a.targetHue),"\xb0)"),correctAnswer:"".concat((0,g.N)(eM.hue,M)," ").concat(a.targetHue,"\xb0"),explanation:(0,g.N)(s,M),visual:{type:"colors",data:{[(0,g.N)(eM.base,M)]:a.baseColor,[(0,g.N)(eM.complementary,M)]:a.options[a.correctIndex].color,[(0,g.N)(eM.yourChoice,M)]:a.options[e].color}}})}C("complementary",s);let c=s?1200:2400;A(c),setTimeout(()=>{t(s),v(e=>e+1),l(eT(j+1)),n(null),b(!1)},c)},[a,f,j,A]),G=(0,y.useCallback)(()=>{a&&!f&&(t(!1),v(e=>e+1),l(eT(j+1)),n(null),b(!1))},[a,f,j,t]);return((0,m.S)(G,!f),(0,d.A)(e=>{e<((null==a?void 0:a.options.length)||0)&&H(e)},!f),a)?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-display font-semibold tracking-tight",children:(0,g.N)(ek[a.mode],M)}),(0,s.jsx)(o.N,{hint:(0,g.N)(eI[a.mode],M)}),(0,s.jsxs)("div",{className:"text-xs text-soft",children:[(0,g.t)(M,"difficultyLabel"),": ",(0,p.Yy)(a.difficulty)]})]}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(I.E.div,{className:"w-32 h-32",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:(0,s.jsx)(i.m,{color:a.baseColor,className:"w-full h-full rounded-2xl shadow-card border border-subtle"})})}),(0,s.jsxs)("div",{className:"text-center text-sm text-muted",children:[(0,g.N)(eM.hue,M),": ",a.baseHsl.h,"\xb0"]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3",children:a.options.map((e,t)=>{let l={"--swatch":e.color};return(0,s.jsx)(c.Z,{onClick:()=>H(t),selected:r===t,correct:f?t===a.correctIndex:null,padding:"none",className:"aspect-square overflow-hidden",children:(0,s.jsx)(I.E.div,{className:"w-full h-full flex items-end justify-center pb-3 bg-swatch",style:l,whileHover:{scale:1.02},children:(0,s.jsx)("span",{className:"px-2 py-1 bg-[color:var(--surface-1-95)] rounded text-xs font-mono",children:t+1})})},t)})}),f&&(0,s.jsx)(I.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center text-sm text-muted",children:(0,s.jsx)("div",{className:"flex justify-center gap-4",children:a.options.map((e,t)=>(0,s.jsxs)("span",{className:"font-mono",children:[t+1,": ",e.hue,"\xb0",t===a.correctIndex&&" (".concat((0,g.N)(eM.correct,M),")")]},t))})})]}):null},eH=(e,t)=>{let a;let{r:s,g:l,b:r}=(0,x.oo)(e);switch(t){case"easy":a=(0,f.Iy)(60,100);break;case"medium":a=(0,f.Iy)(30,50);break;case"hard":a=(0,f.Iy)(10,25);break;case"expert":a=(0,f.Iy)(6,14)}let n="expert"===t?(0,f.TV)([0,1,2]).slice(0,2):[(0,f.Iy)(0,2)],c=Math.random()>.5?1:-1,o=n.includes(0)?Math.max(0,Math.min(255,s+c*a)):s,i=n.includes(1)?Math.max(0,Math.min(255,l+c*a)):l,d=n.includes(2)?Math.max(0,Math.min(255,r+c*a)):r;return(0,x.vq)(o,i,d)},eG=e=>{let t=(0,p.lV)(e),a=(0,x.Nj)(),{r:s,g:l,b:r}=(0,x.ve)(a.h,a.s,a.l),n=(0,x.vq)(s,l,r),c=new Set;for(;c.size<3;){let e=eH(n,t);e!==n&&c.add(e)}let o=(0,f.TV)([n,...c]),i=o.indexOf(n);return{color:n,hsl:a,options:o,correctIndex:i,difficulty:t}},eq=e=>{let{onAnswer:t}=e,[a,l]=(0,y.useState)(null),[r,n]=(0,y.useState)(null),[f,b]=(0,y.useState)(!1),[j,v]=(0,y.useState)(0),{addScore:N,incrementStreak:w,resetStreak:S,updateStats:C,addMistake:k,setReviewPause:A,language:M}=(0,u.g)(),{playCorrect:T,playWrong:L}=(0,h.c)();(0,y.useEffect)(()=>{l(eG(j))},[M]);let H=(0,y.useCallback)(e=>{if(f||!a)return;n(e),b(!0);let s=e===a.correctIndex;if(s)N("expert"===a.difficulty?280:"hard"===a.difficulty?250:"medium"===a.difficulty?200:150),w(),T();else{S(),L();let t=a.options[e],s=(0,x.oo)(t),l=(0,x.oo)(a.color),r="ru"===M?"Правильный":"Correct",n="ru"===M?"Ваш выбор":"Your choice",c="ru"===M?"HEX-код состоит из трёх пар цифр (RR GG BB). Правильный: R=".concat(l.r," G=").concat(l.g," B=").concat(l.b,". Ваш выбор: R=").concat(s.r," G=").concat(s.g," B=").concat(s.b,". Разница в каналах помогает различать близкие цвета."):"HEX code consists of three pairs (RR GG BB). Correct: R=".concat(l.r," G=").concat(l.g," B=").concat(l.b,". Your choice: R=").concat(s.r," G=").concat(s.g," B=").concat(s.b,". Channel differences help distinguish close colors.");k({question:"ru"===M?"Угадать HEX-код цвета":"Guess the HEX color code",userAnswer:t.toUpperCase(),correctAnswer:a.color.toUpperCase(),explanation:c,visual:{type:"colors",data:{[r]:a.color,[n]:t}}})}C("guess-hex",s);let r=s?1200:2400;A(r),setTimeout(()=>{t(s),v(e=>e+1),l(eG(j+1)),n(null),b(!1)},r)},[a,f,j,A,M]),G=(0,y.useCallback)(()=>{a&&!f&&(t(!1),v(e=>e+1),l(eG(j+1)),n(null),b(!1))},[a,f,j,t,M]);return((0,m.S)(G,!f),(0,d.A)(e=>{e<((null==a?void 0:a.options.length)||0)&&H(e)},!f),a)?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-display font-semibold tracking-tight",children:"ru"===M?"Угадать HEX-код":"Guess the HEX code"}),(0,s.jsx)(o.N,{hint:"ru"===M?"HEX состоит из трёх пар (RR GG BB). Сравните тон и яркость со свотчем.":"HEX uses three pairs (RR GG BB). Compare hue and brightness with the swatch."}),(0,s.jsxs)("div",{className:"text-xs text-soft",children:[(0,g.t)(M,"difficultyLabel"),": ",(0,p.Yy)(a.difficulty)]})]}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(I.E.div,{className:"w-40 h-40",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:(0,s.jsx)(i.m,{color:a.color,className:"w-full h-full rounded-2xl shadow-card border border-subtle"})})}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3",children:a.options.map((e,t)=>(0,s.jsx)(c.Z,{onClick:()=>H(t),selected:r===t,correct:f?e===a.color:null,children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("span",{className:"font-mono text-lg",children:e.toUpperCase()}),(0,s.jsxs)("span",{className:"hidden sm:inline text-xs text-soft ml-2",children:["[",t+1,"]"]})]})},t))}),f&&(0,s.jsxs)(I.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center text-sm text-muted space-y-1",children:[(0,s.jsx)("div",{className:"font-mono",children:a.color.toUpperCase()}),(0,s.jsxs)("div",{className:"text-xs text-soft",children:["HSL(",a.hsl.h,"\xb0, ",a.hsl.s,"%, ",a.hsl.l,"%)"]})]})]}):null},eE=(e,t)=>{let a,s,l;switch(t){case"easy":a=(0,f.Iy)(40,80),s=(0,f.Iy)(20,35),l=(0,f.Iy)(15,25);break;case"medium":a=(0,f.Iy)(20,40),s=(0,f.Iy)(10,20),l=(0,f.Iy)(8,15);break;case"hard":a=(0,f.Iy)(10,20),s=(0,f.Iy)(5,12),l=(0,f.Iy)(4,8);break;case"expert":a=(0,f.Iy)(6,12),s=(0,f.Iy)(3,7),l=(0,f.Iy)(2,5)}let r=Math.random()>.5?1:-1;return{h:((e.h+r*a)%360+360)%360,s:Math.max(10,Math.min(95,e.s+r*s)),l:Math.max(15,Math.min(85,e.l+r*l))}},eF=e=>{let t=(0,p.lV)(e),a={h:(0,f.Iy)(0,359),s:(0,f.Iy)(30,80),l:(0,f.Iy)(30,70)},{r:s,g:l,b:r}=(0,x.ve)(a.h,a.s,a.l),n=(0,x.vq)(s,l,r),c=new Set,o=[];for(;o.length<3;){let e=eE(a,t),s="".concat(e.h,"-").concat(e.s,"-").concat(e.l);c.has(s)||(c.add(s),o.push(e))}let i=(0,f.TV)([a,...o]),d=i.findIndex(e=>e.h===a.h&&e.s===a.s&&e.l===a.l);return{color:n,hsl:a,options:i,correctIndex:d,difficulty:t}},ez=e=>{let{onAnswer:t}=e,[a,l]=(0,y.useState)(null),[r,n]=(0,y.useState)(null),[x,f]=(0,y.useState)(!1),[b,j]=(0,y.useState)(0),{addScore:v,incrementStreak:N,resetStreak:w,updateStats:S,addMistake:C,setReviewPause:k,language:A}=(0,u.g)(),{playCorrect:M,playWrong:T}=(0,h.c)();(0,y.useEffect)(()=>{l(eF(b))},[A]);let L=(0,y.useCallback)(e=>{if(x||!a)return;n(e),f(!0);let s=e===a.correctIndex;if(s)v("expert"===a.difficulty?230:"hard"===a.difficulty?200:"medium"===a.difficulty?150:120),N(),M();else{w(),T();let t=a.options[e],s="ru"===A?"Цвет":"Color",l="ru"===A?"H (Hue) — тон на цветовом круге (0–360\xb0). S (Saturation) — насыщенность (0–100%). L (Lightness) — светлота (0–100%). Разница: H на ".concat(Math.abs(t.h-a.hsl.h),"\xb0, S на ").concat(Math.abs(t.s-a.hsl.s),"%, L на ").concat(Math.abs(t.l-a.hsl.l),"%"):"H (Hue) is the hue angle (0–360\xb0). S (Saturation) is saturation (0–100%). L (Lightness) is lightness (0–100%). Difference: H by ".concat(Math.abs(t.h-a.hsl.h),"\xb0, S by ").concat(Math.abs(t.s-a.hsl.s),"%, L by ").concat(Math.abs(t.l-a.hsl.l),"%");C({question:"ru"===A?"Определить HSL-параметры цвета":"Determine the HSL parameters of the color",userAnswer:"H=".concat(t.h,"\xb0 S=").concat(t.s,"% L=").concat(t.l,"%"),correctAnswer:"H=".concat(a.hsl.h,"\xb0 S=").concat(a.hsl.s,"% L=").concat(a.hsl.l,"%"),explanation:l,visual:{type:"colors",data:{[s]:a.color}}})}S("guess-params",s);let r=s?1200:2400;k(r),setTimeout(()=>{t(s),j(e=>e+1),l(eF(b+1)),n(null),f(!1)},r)},[a,x,b,k,A]),H=(0,y.useCallback)(()=>{a&&!x&&(t(!1),j(e=>e+1),l(eF(b+1)),n(null),f(!1))},[a,x,b,t,A]);return((0,m.S)(H,!x),(0,d.A)(e=>{e<((null==a?void 0:a.options.length)||0)&&L(e)},!x),a)?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-display font-semibold tracking-tight",children:"ru"===A?"Угадать HSL-параметры":"Guess the HSL parameters"}),(0,s.jsx)(o.N,{hint:"ru"===A?"H — тон на круге, S — насыщенность, L — светлота.":"H is hue, S is saturation, L is lightness."}),(0,s.jsxs)("div",{className:"text-xs text-soft",children:[(0,g.t)(A,"difficultyLabel"),": ",(0,p.Yy)(a.difficulty)]})]}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(I.E.div,{className:"w-40 h-40",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:(0,s.jsx)(i.m,{color:a.color,className:"w-full h-full rounded-2xl shadow-card border border-subtle"})})}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3",children:a.options.map((e,t)=>(0,s.jsx)(c.Z,{onClick:()=>L(t),selected:r===t,correct:x?t===a.correctIndex:null,children:(0,s.jsxs)("div",{className:"text-center font-mono text-sm space-y-1",children:[(0,s.jsxs)("div",{children:["H: ",(0,s.jsxs)("span",{className:"font-bold",children:[e.h,"\xb0"]})]}),(0,s.jsxs)("div",{children:["S: ",(0,s.jsxs)("span",{className:"font-bold",children:[e.s,"%"]})]}),(0,s.jsxs)("div",{children:["L: ",(0,s.jsxs)("span",{className:"font-bold",children:[e.l,"%"]})]}),(0,s.jsxs)("div",{className:"hidden sm:inline text-xs text-soft",children:["[",t+1,"]"]})]})},t))}),x&&(0,s.jsxs)(I.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center text-sm text-muted",children:[(0,s.jsxs)("div",{className:"font-mono",children:["HSL(",a.hsl.h,"\xb0, ",a.hsl.s,"%, ",a.hsl.l,"%)"]}),(0,s.jsx)("div",{className:"text-xs mt-1 text-soft",children:a.color.toUpperCase()})]})]}):null};var eD=a(6579);let eV=(e,t)=>({ru:e,en:t}),eP={"light-to-dark":eV("Адаптируй для тёмной темы","Adapt for the dark theme"),"dark-to-light":eV("Адаптируй для светлой темы","Adapt for the light theme")},eW={"light-to-dark":eV("Инвертируй светлоту и слегка снизь насыщенность для тёмного UI.","Invert lightness and slightly reduce saturation for dark UI."),"dark-to-light":eV("Инвертируй светлоту и слегка увеличь насыщенность для светлого UI.","Invert lightness and slightly increase saturation for light UI.")},eR={"light-to-dark":eV("Для тёмной темы: инвертируй светлоту (L), слегка снизь насыщенность (S), сохрани тон (H). Это обеспечивает читаемость на тёмном фоне.","For a dark theme: invert lightness (L), slightly reduce saturation (S), keep hue (H). This ensures readability on a dark background."),"dark-to-light":eV("Для светлой темы: инвертируй светлоту (L), слегка увеличь насыщенность (S), сохрани тон (H). Это обеспечивает контраст на светлом фоне.","For a light theme: invert lightness (L), slightly increase saturation (S), keep hue (H). This ensures contrast on a light background.")},eB={original:eV("Оригинал","Original"),correct:eV("Правильный","Correct"),yourChoice:eV("Ваш выбор","Your choice"),originalTheme:eV("Оригинал (светлая тема)","Original (light theme)"),targetTheme:eV("Целевая тема","Target theme"),correctAdaptation:eV("Правильная адаптация","Correct adaptation")},eO=(e,t)=>({h:e.h,s:Math.max(e.s-("expert"===t?16:"hard"===t?12:10),18),l:Math.min(100-e.l+("expert"===t?20:"hard"===t?18:15),92)}),eY=(e,t)=>({h:e.h,s:Math.min(e.s+("expert"===t?16:"hard"===t?12:10),92),l:Math.max(100-e.l-("expert"===t?20:"hard"===t?18:15),18)}),eZ=(e,t)=>{let a,s,l;switch(t){case"easy":a=(0,f.Iy)(20,40),s=(0,f.Iy)(15,30),l=(0,f.Iy)(20,35);break;case"medium":a=(0,f.Iy)(10,25),s=(0,f.Iy)(10,20),l=(0,f.Iy)(12,22);break;case"hard":a=(0,f.Iy)(5,15),s=(0,f.Iy)(5,12),l=(0,f.Iy)(6,14);break;case"expert":a=(0,f.Iy)(3,9),s=(0,f.Iy)(4,8),l=(0,f.Iy)(4,8)}let r=Math.random()>.5?1:-1;return{h:((e.h+r*a)%360+360)%360,s:Math.max(10,Math.min(95,e.s+r*s)),l:Math.max(10,Math.min(90,e.l+r*l))}},eU=e=>{let t;let a=(0,p.lV)(e),s=(0,f.sD)(["light-to-dark","dark-to-light"]);t="light-to-dark"===s?{h:(0,f.Iy)(0,359),s:(0,f.Iy)(50,80),l:(0,f.Iy)(25,45)}:{h:(0,f.Iy)(0,359),s:(0,f.Iy)(40,70),l:(0,f.Iy)(55,75)};let{r:l,g:r,b:n}=(0,x.ve)(t.h,t.s,t.l),c=(0,x.vq)(l,r,n),o="light-to-dark"===s?eO(t,a):eY(t,a),i=[],d=new Set;for(d.add("".concat(o.h,"-").concat(o.s,"-").concat(o.l));i.length<3;){let e=eZ(o,a),t="".concat(e.h,"-").concat(e.s,"-").concat(e.l);d.has(t)||(d.add(t),i.push(e))}let m=[o,...i].map(e=>{let{r:t,g:a,b:s}=(0,x.ve)(e.h,e.s,e.l);return{color:(0,x.vq)(t,a,s),hsl:e}}),h=(0,f.TV)(m),u=h.findIndex(e=>e.hsl.h===o.h&&e.hsl.s===o.s&&e.hsl.l===o.l);return{originalColor:c,originalHsl:t,themeType:s,options:h,correctIndex:u,difficulty:a}},eX=e=>{let{onAnswer:t}=e,[a,l]=(0,y.useState)(null),[r,n]=(0,y.useState)(null),[x,f]=(0,y.useState)(!1),[b,j]=(0,y.useState)(0),{addScore:v,incrementStreak:N,resetStreak:w,updateStats:S,addMistake:C,setReviewPause:k,language:A}=(0,u.g)(),{playCorrect:M,playWrong:T}=(0,h.c)();(0,y.useEffect)(()=>{l(eU(b))},[]);let L=(0,y.useCallback)(e=>{if(x||!a)return;n(e),f(!0);let s=e===a.correctIndex,r=a.options[a.correctIndex];if(s)v("expert"===a.difficulty?210:"hard"===a.difficulty?180:"medium"===a.difficulty?140:110),N(),M();else{w(),T();let t=a.options[e];C({question:(0,g.N)(eP[a.themeType],A),userAnswer:"H=".concat(t.hsl.h,"\xb0 S=").concat(t.hsl.s,"% L=").concat(t.hsl.l,"%"),correctAnswer:"H=".concat(r.hsl.h,"\xb0 S=").concat(r.hsl.s,"% L=").concat(r.hsl.l,"%"),explanation:(0,g.N)(eR[a.themeType],A),visual:{type:"colors",data:{[(0,g.N)(eB.original,A)]:a.originalColor,[(0,g.N)(eB.correct,A)]:r.color,[(0,g.N)(eB.yourChoice,A)]:t.color}}})}S("theme-analog",s);let c=s?1200:2400;k(c),setTimeout(()=>{t(s),j(e=>e+1),l(eU(b+1)),n(null),f(!1)},c)},[a,x,b,k]),H=(0,y.useCallback)(()=>{a&&!x&&(t(!1),j(e=>e+1),l(eU(b+1)),n(null),f(!1))},[a,x,b,t]);if((0,m.S)(H,!x),(0,d.A)(e=>{e<((null==a?void 0:a.options.length)||0)&&L(e)},!x),!a)return null;let G={"--swatch":"light-to-dark"===a.themeType?"#1a1a1a":"#ffffff","--swatch-ink":"light-to-dark"===a.themeType?"#ffffff":"#1a1a1a"};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-display font-semibold tracking-tight",children:(0,g.N)(eP[a.themeType],A)}),(0,s.jsx)(o.N,{hint:(0,g.N)(eW[a.themeType],A)}),(0,s.jsxs)("div",{className:"text-xs text-soft",children:[(0,g.t)(A,"difficultyLabel"),": ",(0,p.Yy)(a.difficulty)]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"text-xs text-muted text-center",children:(0,g.N)(eB.originalTheme,A)}),(0,s.jsx)("div",{className:"bg-surface rounded-xl p-4 flex items-center justify-center h-24 border border-subtle shadow-card",children:(0,s.jsx)(i.m,{color:a.originalColor,className:"w-16 h-16 rounded-lg shadow-card border border-subtle"})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"text-xs text-muted text-center",children:(0,g.N)(eB.targetTheme,A)}),(0,s.jsx)("div",{className:"rounded-xl p-4 flex items-center justify-center h-24 bg-swatch text-swatch border border-subtle shadow-card",style:G,children:(0,s.jsx)("span",{className:"text-2xl",children:"?"})})]})]}),(0,s.jsxs)("div",{className:"text-center text-xs text-muted",children:["HSL(",a.originalHsl.h,"\xb0, ",a.originalHsl.s,"%, ",a.originalHsl.l,"%)"]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3",children:a.options.map((e,t)=>(0,s.jsx)(c.Z,{onClick:()=>L(t),selected:r===t,correct:x?t===a.correctIndex:null,padding:"none",className:"overflow-hidden",children:(0,s.jsxs)("div",{className:"p-3 flex items-center gap-3 bg-swatch text-swatch",style:G,children:[(0,s.jsx)(i.m,{color:e.color,className:"w-12 h-12 rounded-lg shadow-card border border-subtle"}),(0,s.jsxs)("div",{className:"text-xs font-mono",children:[(0,s.jsxs)("div",{children:["H: ",e.hsl.h,"\xb0"]}),(0,s.jsxs)("div",{children:["S: ",e.hsl.s,"%"]}),(0,s.jsxs)("div",{children:["L: ",e.hsl.l,"%"]})]}),(0,s.jsxs)("span",{className:"ml-auto text-xs opacity-50 hidden sm:inline",children:["[",t+1,"]"]})]})},t))}),x&&(0,s.jsxs)(I.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center text-sm text-muted",children:[(0,g.N)(eB.correctAdaptation,A),": H=",a.options[a.correctIndex].hsl.h,"\xb0 S=",a.options[a.correctIndex].hsl.s,"% L=",a.options[a.correctIndex].hsl.l,"%"]})]})},e_=(e,t)=>({ru:e,en:t}),eQ={warm:{title:e_("Найти самый тёплый цвет","Find the warmest color"),hint:e_("Тёплые оттенки ближе к красному и жёлтому сектору.","Warm hues sit closer to the red and yellow sector.")},cool:{title:e_("Найти самый холодный цвет","Find the coolest color"),hint:e_("Холодные оттенки ближе к синему и голубому сектору.","Cool hues sit closer to the blue and cyan sector.")}},eJ=e_("Тёплые тона лежат ближе к красно-жёлтой зоне, холодные — к синей. Сравните положение оттенка на круге.","Warm tones are closer to the red-yellow zone, cool ones to blue. Compare the hue position on the wheel."),eK={easy:100,medium:120,hard:150,expert:180},e$=[[70,140],[240,300]],e0=e=>{let[t,a]=(0,f.sD)(e);return(0,f.Iy)(t,a)},e1=(e,t)=>{let a={easy:[[0,50],[310,360]],medium:[[10,60],[300,350]],hard:[[20,70],[290,340]],expert:[[30,75],[285,330]]},s={easy:[[170,230]],medium:[[160,240]],hard:[[150,250]],expert:[[140,260]]};return{targetRanges:"warm"===e?a[t]:s[t],wrongRanges:"warm"===e?[...s[t],...e$]:[...a[t],...e$]}},e2=(e,t,a)=>{let{r:s,g:l,b:r}=(0,x.ve)(e,t,a);return(0,x.vq)(s,l,r)},e3=e=>{let t=(0,p.lV)(e),a=(0,f.sD)(["warm","cool"]),{targetRanges:s,wrongRanges:l}=e1(a,t),r=[],n=new Set,c=e0(s),o=e2(c,(0,f.Iy)(45,85),(0,f.Iy)(35,70));for(r.push({color:o,hue:c}),n.add(c);r.length<4;){let e=e0(l);n.has(e)||(n.add(e),r.push({color:e2(e,(0,f.Iy)(35,80),(0,f.Iy)(30,75)),hue:e}))}let i=(0,f.TV)(r),d=i.findIndex(e=>e.hue===c);return{options:i,correctIndex:d,target:a,difficulty:t}},e5=e=>{let{onAnswer:t}=e,[a,l]=(0,y.useState)(null),[r,n]=(0,y.useState)(null),[x,f]=(0,y.useState)(!1),[b,j]=(0,y.useState)(0),{addScore:v,incrementStreak:N,resetStreak:w,updateStats:S,addMistake:C,setReviewPause:k,language:A}=(0,u.g)(),{playCorrect:M,playWrong:T}=(0,h.c)();(0,y.useEffect)(()=>{l(e3(b))},[]);let L=(0,y.useCallback)(e=>{if(x||!a)return;n(e),f(!0);let s=e===a.correctIndex;if(s)v(eK[a.difficulty]),N(),M();else{w(),T();let t=a.options[e],s=a.options[a.correctIndex],l="ru"===A?"Ваш выбор":"Your choice",r="ru"===A?"Правильный":"Correct";C({question:(0,g.N)(eQ[a.target].title,A),userAnswer:"Hue ".concat(t.hue,"\xb0"),correctAnswer:"Hue ".concat(s.hue,"\xb0"),explanation:(0,g.N)(eJ,A),visual:{type:"colors",data:{[l]:t.color,[r]:s.color}}})}S("color-temperature",s);let r=s?1200:2400;k(r),setTimeout(()=>{t(s),j(e=>e+1),l(e3(b+1)),n(null),f(!1)},r)},[a,x,b,k]),H=(0,y.useCallback)(()=>{a&&!x&&(t(!1),j(e=>e+1),l(e3(b+1)),n(null),f(!1))},[a,x,b,t]);return((0,m.S)(H,!x),(0,d.A)(e=>{e<((null==a?void 0:a.options.length)||0)&&L(e)},!x),a)?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-display font-semibold tracking-tight",children:(0,g.N)(eQ[a.target].title,A)}),(0,s.jsx)(o.N,{hint:(0,g.N)(eQ[a.target].hint,A)}),(0,s.jsxs)("div",{className:"text-xs text-soft",children:[(0,g.t)(A,"difficultyLabel"),": ",(0,p.Yy)(a.difficulty)]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4",children:a.options.map((e,t)=>(0,s.jsx)(c.Z,{onClick:()=>L(t),selected:r===t,correct:x?t===a.correctIndex:null,padding:"lg",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsx)(i.m,{color:e.color,className:"w-full h-24 rounded-xl border border-subtle shadow-card"}),(0,s.jsxs)("span",{className:"hidden sm:inline text-xs text-soft",children:["[",t+1,"]"]})]})},"".concat(e.color,"-").concat(t)))}),x&&(0,s.jsxs)(I.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center text-sm text-muted",children:["ru"===A?"Правильный оттенок":"Correct hue",": Hue"," ",a.options[a.correctIndex].hue,"\xb0"]})]}):null},e4=[300,400,500,600,700,800],e6={300:"font-light",400:"font-normal",500:"font-medium",600:"font-semibold",700:"font-bold",800:"font-extrabold"},e8={easy:100,medium:120,hard:150,expert:180},e9=e=>{if("easy"===e)return(0,f.TV)([300,400,700,800]);if("medium"===e)return(0,f.sD)([[300,400,600,800],[300,500,600,800],[300,500,700,800],[400,500,700,800]]);let t="expert"===e?(0,f.sD)([1,2]):(0,f.sD)([0,1,2]);return e4.slice(t,t+4)},e7=(e,t)=>{let a=(0,p.lV)(e),s=(0,f.sD)(["heavier","lighter"]),l=e9(a),r=(0,f.c4)(t),n=l.indexOf("heavier"===s?Math.max(...l):Math.min(...l));return{weights:l,correctIndex:n,mode:s,text:r,difficulty:a}},te=e=>{let{onAnswer:t}=e,[a,l]=(0,y.useState)(null),[r,n]=(0,y.useState)(null),[i,x]=(0,y.useState)(!1),[f,b]=(0,y.useState)(0),{addScore:j,incrementStreak:v,resetStreak:N,updateStats:w,addMistake:S,setReviewPause:C,language:k}=(0,u.g)(),{playCorrect:A,playWrong:M}=(0,h.c)();(0,y.useEffect)(()=>{l(e7(f,k))},[k]);let T=(0,y.useCallback)(e=>{if(i||!a)return;n(e),x(!0);let s=e===a.correctIndex;if(s)j(e8[a.difficulty]),v(),A();else{N(),M();let t=a.weights[a.correctIndex],s=a.weights[e];S({question:"ru"===k?"heavier"===a.mode?"Найти самый жирный текст":"Найти самый лёгкий текст":"heavier"===a.mode?"Find the heaviest text":"Find the lightest text",userAnswer:"ru"===k?"Вес ".concat(s):"Weight ".concat(s),correctAnswer:"ru"===k?"Вес ".concat(t):"Weight ".concat(t),explanation:"ru"===k?"Сравните визуальную толщину штрихов: больший вес делает буквы заметно массивнее.":"Compare stroke thickness: heavier weights make letters noticeably bolder."})}w("font-weight",s);let r=s?1200:2400;C(r),setTimeout(()=>{t(s),b(e=>e+1),l(e7(f+1,k)),n(null),x(!1)},r)},[a,i,f,C,k]),L=(0,y.useCallback)(()=>{a&&!i&&(t(!1),b(e=>e+1),l(e7(f+1,k)),n(null),x(!1))},[a,i,f,t,k]);return((0,m.S)(L,!i),(0,d.A)(e=>{e<((null==a?void 0:a.weights.length)||0)&&T(e)},!i),a)?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-display font-semibold tracking-tight",children:"ru"===k?"heavier"===a.mode?"Найти самый жирный текст":"Найти самый лёгкий текст":"heavier"===a.mode?"Find the heaviest text":"Find the lightest text"}),(0,s.jsx)(o.N,{hint:"ru"===k?"Сравните толщину штриха: более жирный выглядит темнее и массивнее.":"Compare stroke thickness: heavier weights look darker and more massive."}),(0,s.jsxs)("div",{className:"text-xs text-soft",children:[(0,g.t)(k,"difficultyLabel"),": ",(0,p.Yy)(a.difficulty)]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3",children:a.weights.map((e,t)=>(0,s.jsx)(c.Z,{onClick:()=>T(t),selected:r===t,correct:i?t===a.correctIndex:null,children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)(I.E.span,{className:"text-2xl text-strong ".concat(e6[e]),initial:{opacity:0},animate:{opacity:1},children:a.text}),(0,s.jsxs)("span",{className:"hidden sm:inline text-xs text-soft",children:["[",t+1,"]"]})]})},e))}),i&&(0,s.jsxs)(I.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center text-sm text-muted",children:["ru"===k?"Вес правильного варианта":"Correct weight",":"," ",a.weights[a.correctIndex]]})]}):null};var tt=a(996),ta=a(3888);let ts=(e,t)=>({ru:e,en:t}),tl=e=>"".concat(e,"-").concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,7)),tr=e=>(e%360+360)%360,tn=(e,t,a)=>{let{r:s,g:l,b:r}=(0,x.ve)(tr(e),Math.min(100,Math.max(0,t)),Math.min(100,Math.max(0,a)));return(0,x.vq)(s,l,r).toUpperCase()},tc=(e,t)=>{let a=(0,f.TV)([e,...t]);return{options:a,correctIndex:a.indexOf(e)}},to=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=new Set(a);return(0,f.TV)(e.filter(e=>!s.has(e))).slice(0,t)},ti=(e,t)=>e.map((e,a)=>{let s=t+9*a,l=(0,f.Iy)(52,86),r=(0,f.Iy)(32,74),n=tn(s,l,r);return e?tn(s+6*a,l,r):n}),td=()=>{let e=(0,f.Iy)(0,359),t=(0,f.Iy)(58,88),a=(0,f.Iy)(34,68),s=tn(e,t,a),{options:l,correctIndex:r}=tc({label:s,color:s},to([10,14,18,22,26,30,-10,-14,-18,-22,-26,-30],3).map(s=>{let l=tn(e+s,t+(0,f.Iy)(-10,10),a+(0,f.Iy)(-10,10));return{label:l,color:l}}));return{id:tl("color-eye"),prompt:ts("Какой цвет точнее совпадает с образцом?","Which color best matches the sample?"),helper:ts("Сравнивай оттенок и светлоту одновременно.","Compare hue and lightness together."),explanation:ts("Точный оттенок: ".concat(s,"."),"The exact target color is ".concat(s,".")),imageSrc:(0,ta.sO)(s),imageAlt:ts("Цветовой образец","Color sample"),imageSource:{label:ts("Сгенерировано в приложении","Generated in-app")},imageFrameClass:"w-full max-w-2xl aspect-[4/3] bg-surface-2",imageClass:"object-contain",options:l,correctIndex:r,difficulty:"medium"}},tm=[{key:"velvia",label:ts("Fujifilm Velvia 50","Fujifilm Velvia 50"),explanation:ts("Velvia усиливает насыщенность и контраст пейзажей.","Velvia boosts saturation and landscape contrast.")},{key:"portra",label:ts("Kodak Portra 400","Kodak Portra 400"),explanation:ts("Portra даёт мягкий контраст и естественные тона кожи.","Portra keeps contrast soft and skin tones natural.")},{key:"gold",label:ts("Kodak Gold 200","Kodak Gold 200"),explanation:ts("Gold склоняется к тёплым тонам и мягкому свету.","Gold leans warm with a gentle roll-off.")},{key:"pro400h",label:ts("Fujifilm Pro 400H","Fujifilm Pro 400H"),explanation:ts("Pro 400H смягчает насыщенность и добавляет пастельный характер.","Pro 400H softens saturation with a pastel look.")},{key:"cinestill",label:ts("Cinestill 800T","Cinestill 800T"),explanation:ts("Cinestill 800T добавляет киношный сдвиг и неоновые акценты.","Cinestill 800T adds a cinematic shift and neon accents.")},{key:"superia",label:ts("Fujifilm Superia","Fujifilm Superia"),explanation:ts("Superia смещает палитру в более прохладно-зелёный диапазон.","Superia nudges the palette into cooler green tones.")}],th=[["#f5c2a7","#d97706","#84cc16","#22c55e","#0ea5e9","#475569"],["#38bdf8","#0ea5e9","#22c55e","#84cc16","#f59e0b","#334155"],["#f1c27d","#e3b08d","#bfa38a","#9ca3af","#d97706","#475569"],["#fbcfe8","#f9a8d4","#bfdbfe","#93c5fd","#a7f3d0","#e2e8f0"],["#0f172a","#0ea5e9","#a855f7","#f97316","#f43f5e","#f8fafc"],["#14532d","#166534","#22c55e","#84cc16","#4b5563","#94a3b8"]],tu=()=>{let e=(0,f.sD)([...tm]),t=to(tm,3,[e]),{options:a,correctIndex:s}=tc({label:e.label},t.map(e=>({label:e.label})));return{id:tl("film-type"),prompt:ts("Какой плёночный профиль лучше всего соответствует нижнему ряду?","Which film profile best matches the transformed row?"),helper:ts("Сравнивай насыщенность и контраст между двумя рядами.","Compare saturation and contrast between the two rows."),explanation:e.explanation,imageSrc:(0,ta.Di)(e.key,(0,f.sD)(th)),imageAlt:ts("Сравнение базовой и обработанной цветовой карты","Comparison of base and transformed color chart"),imageSource:{label:ts("Сгенерировано в приложении","Generated in-app")},imageFrameClass:"w-full max-w-2xl aspect-[3/2] bg-surface-2",imageClass:"object-contain",options:a,correctIndex:s,difficulty:"medium"}},tx=[{type:"thirds",label:ts("Правило третей","Rule of thirds"),explanation:ts("Ключевой объект размещён на пересечении третей.","The key subject sits on a thirds intersection.")},{type:"center",label:ts("Центральная композиция","Centered composition"),explanation:ts("Главный объект расположен по центру кадра.","The main subject is centered in the frame.")},{type:"leading-lines",label:ts("Ведущие линии","Leading lines"),explanation:ts("Линии направляют взгляд к точке фокуса.","Lines guide the eye toward the focal point.")},{type:"diagonal",label:ts("Диагональ","Diagonal composition"),explanation:ts("Диагональ задаёт динамику и направление.","A diagonal creates motion and direction.")},{type:"symmetry",label:ts("Симметрия","Symmetry"),explanation:ts("Композиция выстроена вокруг оси симметрии.","The scene is balanced around a symmetry axis.")},{type:"negative-space",label:ts("Негативное пространство","Negative space"),explanation:ts("Пустое пространство подчёркивает основной объект.","Empty space emphasizes the subject.")},{type:"framing",label:ts("Кадр в кадре","Framing"),explanation:ts("Внутренние границы рамки выделяют объект.","Inner frame boundaries isolate the subject.")},{type:"perspective",label:ts("Перспектива","Perspective"),explanation:ts("Линии сходятся в точке, усиливая глубину.","Converging lines enhance depth perception.")}],tp=()=>{let e=(0,f.sD)(tx),t=to(tx,3,[e]).map(e=>({label:e.label})),{options:a,correctIndex:s}=tc({label:e.label},t);return{id:tl("composition"),prompt:ts("Какой композиционный приём показан на схеме?","Which composition technique is shown in the diagram?"),helper:ts("Оцени направление линий и положение акцента.","Evaluate line direction and accent placement."),explanation:e.explanation,imageSrc:(0,ta.EO)(e.type),imageAlt:ts("Схема композиции","Composition diagram"),imageSource:{label:ts("Сгенерировано в приложении","Generated in-app")},imageFrameClass:"w-full max-w-2xl aspect-[3/2] bg-surface-2",imageClass:"object-contain",options:a,correctIndex:s,difficulty:"medium"}},tf=[16,24,35,50,85,135,200],tg=()=>{let e=(0,f.sD)(tf),t=to(tf,3,[e]),{options:a,correctIndex:s}=tc({label:ts("".concat(e," мм"),"".concat(e," mm"))},t.map(e=>({label:ts("".concat(e," мм"),"".concat(e," mm"))}))),l=(0,ta.Ug)(e);return{id:tl("focal-length"),prompt:ts("Какое фокусное расстояние соответствует этой схеме?","Which focal length matches this diagram?"),helper:ts("Чем шире угол, тем меньше фокусное расстояние.","Wider angle means shorter focal length."),explanation:ts("Правильный ответ: ".concat(e," мм (угол обзора около ").concat(l,"\xb0)."),"Correct answer: ".concat(e," mm (field of view about ").concat(l,"deg).")),imageSrc:(0,ta.Ht)(l),imageAlt:ts("Схема угла обзора","Field-of-view diagram"),imageSource:{label:ts("Сгенерировано в приложении","Generated in-app")},imageFrameClass:"w-full max-w-2xl aspect-[3/2] bg-surface-2",imageClass:"object-contain",options:a,correctIndex:s,difficulty:"hard"}},ty=e=>{let t=(0,f.Iy)(0,359),a=[tn(t,(0,f.Iy)(62,84),(0,f.Iy)(36,58)),tn(t+(0,f.Iy)(18,42),(0,f.Iy)(54,78),(0,f.Iy)(44,68)),tn(t-(0,f.Iy)(20,44),(0,f.Iy)(36,66),(0,f.Iy)(52,78))],s=to([32,56,96,124,180,212,248],3).map((e,s)=>({label:ts("Вариант ".concat(s+1),"Option ".concat(s+1)),palette:ti(a,t+e)})),{options:l,correctIndex:r}=tc({label:ts("Совпадение","Match"),palette:a},s),n="palette-lab"===e?ts("Какой набор цветов точнее всего совпадает со сценой?","Which palette best matches the generated scene?"):ts("Выбери палитру, которая совпадает с изображением.","Pick the palette that matches the image.");return{id:tl(e),prompt:n,helper:ts("Ищи совпадение сразу по трём цветовым полосам.","Match all three color bands, not just one."),explanation:ts("Правильная палитра: ".concat(a.join(", "),"."),"Correct palette: ".concat(a.join(", "),".")),imageSrc:(0,ta.fP)(a),imageAlt:ts("Сгенерированная цветовая сцена","Generated color scene"),imageSource:{label:ts("Сгенерировано в приложении","Generated in-app")},imageFrameClass:"w-full max-w-2xl aspect-[3/2] bg-surface-2",imageClass:"object-contain",options:l,correctIndex:r,difficulty:"medium"}},tb=()=>{let e=(0,f.sD)([18,24,28,35,50,70,85,135]),t=(0,ta.Ug)(e),a=to([18,24,28,35,50,70,85,135],3,[e]).map(e=>(0,ta.Ug)(e)),{options:s,correctIndex:l}=tc({label:ts("".concat(t,"\xb0"),"".concat(t,"deg"))},a.map(e=>({label:ts("".concat(e,"\xb0"),"".concat(e,"deg"))})));return{id:tl("fov-angle"),prompt:ts("Какой угол обзора показан на схеме?","Which field-of-view angle is shown?"),helper:ts("Смотри на раскрытие лучей: чем шире веер, тем больше угол.","Wider rays mean a larger angle."),explanation:ts("Правильный угол: около ".concat(t,"\xb0 (примерно ").concat(e," мм)."),"Correct angle: about ".concat(t,"deg (roughly ").concat(e," mm).")),imageSrc:(0,ta.Ht)(t),imageAlt:ts("Схема поля зрения","Field-of-view sketch"),imageSource:{label:ts("Сгенерировано в приложении","Generated in-app")},imageFrameClass:"w-full max-w-2xl aspect-[3/2] bg-surface-2",imageClass:"object-contain",options:s,correctIndex:l,difficulty:"medium"}},tj=e=>{switch(e){case"color-eye":default:return td();case"film-type":return tu();case"composition-technique":return tp();case"focal-length":return tg();case"palette-from-photo":return ty("palette-from-photo");case"palette-lab":return ty("palette-lab");case"fov-angle":return tb()}};var tv=a(6926);let tN=(e,t)=>"string"==typeof e?e:(0,g.N)(e,t),tw=(e,t)=>{if(e.palette&&e.palette.length>0){let a=e.label?tN(e.label,t):"";return(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)("div",{className:"flex gap-1",children:e.palette.map((e,t)=>(0,s.jsx)(i.m,{color:e,className:"w-8 h-8 rounded-lg border border-subtle"},"".concat(e,"-").concat(t)))}),a&&(0,s.jsx)("span",{className:"text-xs text-soft",children:a})]})}if(e.color){let a=e.label?tN(e.label,t):e.color;return(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)(i.m,{color:e.color,className:"w-full h-20 rounded-xl border border-subtle shadow-card"}),(0,s.jsx)("span",{className:"text-xs text-soft",children:a})]})}if("number"==typeof e.size){let a=Math.min(e.size,32),l=e.label?tN(e.label,t):"".concat(e.size,"px");return(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)("span",{className:"text-strong ".concat((0,k.rS)(a,"text-[32px]")),children:"Aa"}),(0,s.jsx)("span",{className:"text-xs text-soft",children:l})]})}return(0,s.jsx)("span",{className:"text-sm text-strong",children:e.label?tN(e.label,t):""})},tS={ru:"Вариант",en:"Option"},tC=(e,t)=>e.label?tN(e.label,t):e.color?e.color:e.palette?e.palette.join(", "):"number"==typeof e.size?"".concat(e.size,"px"):tS[t],tk=e=>{var t,a,l,r;let{gameId:n,onAnswer:i}=e,{addScore:x,incrementStreak:b,resetStreak:j,updateStats:v,addMistake:N,language:w,avoidRepeats:S,setReviewPause:C}=(0,u.g)(),{playCorrect:k,playWrong:A}=(0,h.c)(),[M,T]=(0,y.useState)(0),[L,H]=(0,y.useState)(null),[G,q]=(0,y.useState)(!1),E=tv.uF[n]||[],F=(0,tv.V2)(n),z=(0,y.useMemo)(()=>(0,f.TV)(E.map((e,t)=>t)),[E.length]),D=z.length>0?S?z[M]:z[M%z.length]:-1,V=(0,y.useMemo)(()=>{var e;return F?tj(n):"number"!=typeof D?null:null!==(e=E[D])&&void 0!==e?e:null},[F,n,D,E,M]),P=(0,y.useMemo)(()=>{if(!V)return null;let e=(0,f.TV)(V.options.map((e,t)=>t)),t=e.map(e=>V.options[e]),a=e.indexOf(V.correctIndex);return{question:V,options:t,correctIndex:a}},[V]),W=(0,y.useCallback)(e=>{if(!P||G)return;H(e),q(!0);let t=e===P.correctIndex;if(t)x(tt.Wp[n].pointsPerCorrect),b(),k();else{var a,s,l,r,c,o;j(),A();let t=P.options[e],n=P.options[P.correctIndex];N({question:tN(P.question.prompt,w),userAnswer:tC(t,w),correctAnswer:tC(n,w),explanation:tN(P.question.explanation,w),visual:t.color||n.color?{type:"colors",data:{Correct:n.color||"",Selected:t.color||""}}:t.palette||n.palette?{type:"colors",data:{"Correct 1":(null===(a=n.palette)||void 0===a?void 0:a[0])||"","Correct 2":(null===(s=n.palette)||void 0===s?void 0:s[1])||"","Correct 3":(null===(l=n.palette)||void 0===l?void 0:l[2])||"","Selected 1":(null===(r=t.palette)||void 0===r?void 0:r[0])||"","Selected 2":(null===(c=t.palette)||void 0===c?void 0:c[1])||"","Selected 3":(null===(o=t.palette)||void 0===o?void 0:o[2])||""}}:void 0})}v(n,t);let d=t?1200:2400;C(d),setTimeout(()=>{i(t),T(e=>e+1),H(null),q(!1)},d)},[P,G,n,w,C]),R=(0,y.useCallback)(()=>{P&&!G&&(i(!1),T(e=>e+1),H(null),q(!1))},[P,G,i]);if((0,m.S)(R,!G),(0,d.v)({1:()=>P&&P.options.length>0&&W(0),2:()=>P&&P.options.length>1&&W(1),3:()=>P&&P.options.length>2&&W(2),4:()=>P&&P.options.length>3&&W(3),5:()=>P&&P.options.length>4&&W(4),6:()=>P&&P.options.length>5&&W(5),Digit1:()=>P&&P.options.length>0&&W(0),Digit2:()=>P&&P.options.length>1&&W(1),Digit3:()=>P&&P.options.length>2&&W(2),Digit4:()=>P&&P.options.length>3&&W(3),Digit5:()=>P&&P.options.length>4&&W(4),Digit6:()=>P&&P.options.length>5&&W(5)},!G),!P)return(0,s.jsxs)("div",{className:"text-center space-y-3",children:[(0,s.jsx)("div",{className:"text-xl sm:text-2xl font-display font-semibold tracking-tight",children:(0,g.t)(w,"noQuestionsTitle")}),(0,s.jsx)("div",{className:"text-sm text-muted",children:(0,g.t)(w,"noQuestionsHint")})]});let B=null!==(t=P.question.difficulty)&&void 0!==t?t:(0,p.lV)(M),O=P.options.length<=4?"grid-cols-2":"grid-cols-2 sm:grid-cols-3",Y=null!==(a=P.question.imageContainerClass)&&void 0!==a?a:"flex justify-center",Z=null!==(l=P.question.imageFrameClass)&&void 0!==l?l:"w-full max-w-2xl aspect-[4/3]",U=null!==(r=P.question.imageClass)&&void 0!==r?r:"object-cover";return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-display font-semibold tracking-tight",children:tN(P.question.prompt,w)}),(0,s.jsx)(o.N,{hint:P.question.helper?tN(P.question.helper,w):void 0}),(0,s.jsxs)("div",{className:"text-xs text-soft",children:[(0,g.t)(w,"difficultyLabel"),": ",(0,p.Yy)(B)]})]}),(0,s.jsx)("div",{className:Y,children:(0,s.jsx)("div",{className:"overflow-hidden rounded-2xl border border-subtle shadow-card ".concat(Z),children:(0,s.jsx)("img",{src:P.question.imageSrc,alt:tN(P.question.imageAlt,w),className:"w-full h-full ".concat(U),loading:"lazy",decoding:"async"})})}),P.question.imageSource&&(0,s.jsxs)("div",{className:"text-center text-xs text-soft",children:[(0,g.t)(w,"imageSourceLabel"),":"," ",P.question.imageSource.url?(0,s.jsx)("a",{href:P.question.imageSource.url,target:"_blank",rel:"noreferrer",className:"underline hover:no-underline",children:tN(P.question.imageSource.label,w)}):tN(P.question.imageSource.label,w)]}),(0,s.jsx)("div",{className:"grid gap-3 ".concat(O),children:P.options.map((e,t)=>(0,s.jsx)(c.Z,{onClick:()=>W(t),selected:L===t,correct:G?t===P.correctIndex:null,padding:"lg",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[tw(e,w),(0,s.jsxs)("span",{className:"hidden sm:inline text-xs text-soft",children:["[",t+1,"]"]})]})},"".concat(e.label,"-").concat(t)))}),G&&(0,s.jsx)(I.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center text-sm text-muted",children:tN(P.question.explanation,w)})]})},tI=e=>{let t=t=>"string"==typeof t?t:(0,g.N)(t,e);return[...eD.S.map((t,a)=>({id:"quiz-".concat(a),sourceGameId:"quiz",prompt:(0,g.N)(t.question,e),helper:(0,g.N)(t.explanation,e),explanation:(0,g.N)(t.explanation,e),options:t.options.map(t=>({label:(0,g.N)(t,e)})),correctIndex:t.correctIndex,difficulty:t.difficulty})),...Object.entries(tv.uF).flatMap(e=>{let[a,s]=e;return s.map(e=>({id:"".concat(a,"-").concat(e.id),sourceGameId:a,prompt:t(e.prompt),helper:e.helper?t(e.helper):void 0,explanation:t(e.explanation),options:e.options.map(e=>({...e,label:e.label?t(e.label):void 0})),correctIndex:e.correctIndex,difficulty:e.difficulty,imageSrc:e.imageSrc,imageAlt:t(e.imageAlt),imageSource:e.imageSource?{...e.imageSource,label:t(e.imageSource.label)}:void 0,imageContainerClass:e.imageContainerClass,imageFrameClass:e.imageFrameClass,imageClass:e.imageClass}))})]},tA=e=>{if(e.palette&&e.palette.length>0)return(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)("div",{className:"flex gap-1",children:e.palette.map((e,t)=>(0,s.jsx)(i.m,{color:e,className:"w-8 h-8 rounded-lg border border-subtle"},"".concat(e,"-").concat(t)))}),e.label&&(0,s.jsx)("span",{className:"text-xs text-soft",children:e.label})]});if(e.color)return(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)(i.m,{color:e.color,className:"w-full h-20 rounded-xl border border-subtle shadow-card"}),(0,s.jsx)("span",{className:"text-xs text-soft",children:e.label||e.color})]});if("number"==typeof e.size){let t=Math.min(e.size,32);return(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)("span",{className:"text-strong ".concat((0,k.rS)(t,"text-[32px]")),children:"Aa"}),(0,s.jsx)("span",{className:"text-xs text-soft",children:e.label||"".concat(e.size,"px")})]})}return(0,s.jsx)("span",{className:"text-sm text-strong",children:e.label})},tM={ru:"Вариант",en:"Option"},tT=(e,t)=>e.label?e.label:e.color?e.color:e.palette?e.palette.join(", "):"number"==typeof e.size?"".concat(e.size,"px"):tM[t],tL=e=>{var t,a,l,r;let{onAnswer:n,totalQuestions:i}=e,{addScore:x,incrementStreak:b,resetStreak:j,updateStats:v,addMistake:N,language:w,avoidRepeats:S,setReviewPause:C}=(0,u.g)(),{playCorrect:k,playWrong:A}=(0,h.c)(),[M,T]=(0,y.useState)(0),[L,H]=(0,y.useState)(null),[G,q]=(0,y.useState)(!1),E=tt.Wp["long-test"].pointsPerCorrect,F=(0,y.useMemo)(()=>tI(w),[w]),z=S&&F.length>0?Math.min(i,F.length):i,D=(0,y.useMemo)(()=>0===F.length||0===z?[]:S?(0,f.TV)(F.map((e,t)=>t)).slice(0,z):Array.from({length:z},()=>Math.floor(Math.random()*F.length)),[F.length,z,S])[M],V="number"==typeof D?F[D]:null,P=(0,y.useMemo)(()=>{if(!V)return null;let e=(0,f.TV)(V.options.map((e,t)=>t)),t=e.map(e=>V.options[e]),a=e.indexOf(V.correctIndex);return{...V,options:t,correctIndex:a}},[V]),W=(0,y.useCallback)(e=>{if(!P||G)return;H(e),q(!0);let t=e===P.correctIndex;if(t)x(E),b(),k();else{var a,s,l,r,c,o;j(),A();let t=P.options[e],n=P.options[P.correctIndex];N({question:P.prompt,userAnswer:tT(t,w),correctAnswer:tT(n,w),explanation:P.explanation,visual:t.color||n.color?{type:"colors",data:{Correct:n.color||"",Selected:t.color||""}}:t.palette||n.palette?{type:"colors",data:{"Correct 1":(null===(a=n.palette)||void 0===a?void 0:a[0])||"","Correct 2":(null===(s=n.palette)||void 0===s?void 0:s[1])||"","Correct 3":(null===(l=n.palette)||void 0===l?void 0:l[2])||"","Selected 1":(null===(r=t.palette)||void 0===r?void 0:r[0])||"","Selected 2":(null===(c=t.palette)||void 0===c?void 0:c[1])||"","Selected 3":(null===(o=t.palette)||void 0===o?void 0:o[2])||""}}:void 0})}v("long-test",t);let i=t?1200:2400;C(i),setTimeout(()=>{n(t),T(e=>e+1),H(null),q(!1)},i)},[P,G,w,C]),R=(0,y.useCallback)(()=>{P&&!G&&(n(!1),T(e=>e+1),H(null),q(!1))},[P,G,n]);if((0,m.S)(R,!G),(0,d.v)({1:()=>P&&P.options.length>0&&W(0),2:()=>P&&P.options.length>1&&W(1),3:()=>P&&P.options.length>2&&W(2),4:()=>P&&P.options.length>3&&W(3),5:()=>P&&P.options.length>4&&W(4),6:()=>P&&P.options.length>5&&W(5),Digit1:()=>P&&P.options.length>0&&W(0),Digit2:()=>P&&P.options.length>1&&W(1),Digit3:()=>P&&P.options.length>2&&W(2),Digit4:()=>P&&P.options.length>3&&W(3),Digit5:()=>P&&P.options.length>4&&W(4),Digit6:()=>P&&P.options.length>5&&W(5)},!G),!P)return(0,s.jsxs)("div",{className:"text-center space-y-3",children:[(0,s.jsx)("div",{className:"text-xl sm:text-2xl font-display font-semibold tracking-tight",children:(0,g.t)(w,"noQuestionsTitle")}),(0,s.jsx)("div",{className:"text-sm text-muted",children:(0,g.t)(w,"noQuestionsHint")})]});let B=null!==(t=P.difficulty)&&void 0!==t?t:(0,p.lV)(M),O=P.options.some(e=>e.color||e.palette||"number"==typeof e.size),Y=P.options.length<=4?"grid-cols-2":"grid-cols-2 sm:grid-cols-3",Z=null!==(a=P.imageContainerClass)&&void 0!==a?a:"flex justify-center",U=null!==(l=P.imageFrameClass)&&void 0!==l?l:"w-full max-w-2xl aspect-[4/3]",X=null!==(r=P.imageClass)&&void 0!==r?r:"object-cover";return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-display font-semibold tracking-tight",children:P.prompt}),(0,s.jsx)(o.N,{hint:P.helper}),(0,s.jsxs)("div",{className:"text-xs text-soft",children:[(0,g.t)(w,"difficultyLabel"),": ",(0,p.Yy)(B)]})]}),P.imageSrc&&(0,s.jsx)("div",{className:Z,children:(0,s.jsx)("div",{className:"overflow-hidden rounded-2xl border border-subtle shadow-card ".concat(U),children:(0,s.jsx)("img",{src:P.imageSrc,alt:P.imageAlt||"",className:"w-full h-full ".concat(X),loading:"lazy",decoding:"async"})})}),P.imageSource&&(0,s.jsxs)("div",{className:"text-center text-xs text-soft",children:[(0,g.t)(w,"imageSourceLabel"),":"," ",P.imageSource.url?(0,s.jsx)("a",{href:P.imageSource.url,target:"_blank",rel:"noreferrer",className:"underline hover:no-underline",children:P.imageSource.label}):P.imageSource.label]}),O?(0,s.jsx)("div",{className:"grid gap-3 ".concat(Y),children:P.options.map((e,t)=>(0,s.jsx)(c.Z,{onClick:()=>W(t),selected:L===t,correct:G?t===P.correctIndex:null,padding:"lg",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[tA(e),(0,s.jsxs)("span",{className:"hidden sm:inline text-xs text-soft",children:["[",t+1,"]"]})]})},"".concat(e.label,"-").concat(t)))}):(0,s.jsx)("div",{className:"flex flex-col gap-2 sm:gap-3",children:P.options.map((e,t)=>(0,s.jsx)(c.Z,{onClick:()=>W(t),selected:L===t,correct:G?t===P.correctIndex:null,className:"min-h-[56px]",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"w-6 h-6 bg-surface-2 rounded-full flex items-center justify-center text-sm font-mono text-muted",children:t+1}),(0,s.jsx)("span",{children:tT(e,w)})]})},"".concat(e.label,"-").concat(t)))}),G&&(0,s.jsx)(I.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center text-sm text-muted",children:P.explanation})]})};var tH=a(9376);let tG=eD.S.length+Object.values(tv.uF).reduce((e,t)=>e+t.length,0);function tq(e){var t,a;let{gameId:n,GameComponent:c,nextGame:o}=e,[i,d]=(0,y.useState)(0),[m,h]=(0,y.useState)(0),{customMode:x,customQuestions:p,avoidRepeats:f}=(0,u.g)(),g=(null===(t=p[n])||void 0===t?void 0:t.length)||0,b=!!x[n]&&g>0,j=(0,tv.V2)(n),v=tv.y9.includes(n)?j?10:(null===(a=tv.uF[n])||void 0===a?void 0:a.length)||0:0,N=b?g:"quiz"===n?eD.S.length:v,w=(0,y.useCallback)(e=>{d(e=>e+1),e&&h(e=>e+1)},[]);return(0,s.jsx)(l.s,{gameId:n,totalChallenges:f&&N>0?Math.min(10,N):10,currentChallenge:i,correctCount:m,onRestart:()=>{d(0),h(0)},nextGame:o,children:b?(0,s.jsx)(r.mo,{gameId:n,onAnswer:w}):(0,s.jsx)(c,{onAnswer:w})})}function tE(e){let{nextGame:t}=e,[a,r]=(0,y.useState)(0),[n,c]=(0,y.useState)(0),{avoidRepeats:o,longTestLength:i}=(0,u.g)(),d=o&&tG>0?Math.min(i,tG):i,m=(0,y.useCallback)(e=>{r(e=>e+1),e&&c(e=>e+1)},[]);return(0,s.jsx)(l.s,{gameId:"long-test",totalChallenges:d,currentChallenge:a,correctCount:n,onRestart:()=>{r(0),c(0)},nextGame:t,children:(0,s.jsx)(tL,{totalQuestions:d,onAnswer:m})})}function tF(e){let{gameId:t}=e,a=(0,tH.useSearchParams)(),[l,r]=(0,y.useState)(!1);(0,y.useEffect)(()=>{r(!0)},[]);let c=(0,y.useMemo)(()=>{let e=a.get("next");if(!e)return[];try{let t=JSON.parse(e);if(!Array.isArray(t))return[];return t.filter(e=>!!(tt.Wp[e]&&!tt.Wp[e].disabled))}catch(e){return[]}},[a]),o=c.length>0?{id:c[0],queue:c.slice(1)}:null;if(!l)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6",children:(0,s.jsxs)("div",{className:"w-full max-w-md space-y-4",children:[(0,s.jsx)(n.Skeleton,{className:"h-8 w-32"}),(0,s.jsx)(n.Skeleton,{className:"h-40 w-full rounded-2xl"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsx)(n.Skeleton,{className:"h-20 w-full rounded-xl"}),(0,s.jsx)(n.Skeleton,{className:"h-20 w-full rounded-xl"})]}),(0,s.jsx)(n.Skeleton,{className:"h-10 w-full rounded-xl"})]})});switch(t){case"color-compare":return(0,s.jsx)(tq,{gameId:t,GameComponent:C,nextGame:o});case"font-size":return(0,s.jsx)(tq,{gameId:t,GameComponent:G,nextGame:o});case"guess-font":return(0,s.jsx)(tq,{gameId:t,GameComponent:D,nextGame:o});case"color-params":return(0,s.jsx)(tq,{gameId:t,GameComponent:Z,nextGame:o});case"color-temperature":return(0,s.jsx)(tq,{gameId:t,GameComponent:e5,nextGame:o});case"accessibility":return(0,s.jsx)(tq,{gameId:t,GameComponent:eo,nextGame:o});case"palette-error":return(0,s.jsx)(tq,{gameId:t,GameComponent:ep,nextGame:o});case"size-sequence":return(0,s.jsx)(tq,{gameId:t,GameComponent:eS,nextGame:o});case"complementary":return(0,s.jsx)(tq,{gameId:t,GameComponent:eL,nextGame:o});case"guess-hex":return(0,s.jsx)(tq,{gameId:t,GameComponent:eq,nextGame:o});case"guess-params":return(0,s.jsx)(tq,{gameId:t,GameComponent:ez,nextGame:o});case"quiz":return(0,s.jsx)(tq,{gameId:t,GameComponent:eD.A,nextGame:o});case"theme-analog":return(0,s.jsx)(tq,{gameId:t,GameComponent:eX,nextGame:o});case"font-weight":return(0,s.jsx)(tq,{gameId:t,GameComponent:te,nextGame:o});case"long-test":return(0,s.jsx)(tE,{nextGame:o});default:if(tv.y9.includes(t))return(0,s.jsx)(tq,{gameId:t,GameComponent:e=>(0,s.jsx)(tk,{gameId:t,onAnswer:e.onAnswer}),nextGame:o});return null}}}},function(e){e.O(0,[699,883,681,600,77,971,117,744],function(){return e(e.s=3910)}),_N_E=e.O()}]);